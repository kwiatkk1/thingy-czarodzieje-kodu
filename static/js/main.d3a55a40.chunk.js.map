{"version":3,"sources":["assets/czarodzieje-logo.png","components/challenges/light-and-sound.js","components/challenges/dinosaur-game.js","components/challenges/ball-game.js","components/ui/menu.js","components/not-connected-view.js","module/thingy/thingy-actions.js","components/connect-button.js","components/ui/battery.js","components/connection-panel-container.js","components/connection-panel.js","components/app.js","components/app-container.js","theme.js","module/thingy/thingy-reducer.js","reducers.js","utils/colorConverter.js","components/challenges/light-and-sound/UICards.js","components/challenges/light-and-sound/index.js","components/challenges/light-and-sound/container.js","components/challenges/light-and-sound-container.js","components/challenges/dinosaur-game-container.js","components/challenges/ball-game-container.js","components/challenges/sensors-container.js","challenges.js","components/challenges/sensors.js","index.js","components/ui/challenge-header.js","components/ui/code-editor.js"],"names":["module","exports","useStyles","makeStyles","theme","iframeNode","display","LightAndSound","props","defaultCode","editorText","localStorage","getItem","classes","useSnackbar","enqueueSnackbar","handleCodeChange","newValue","setItem","executeCode","code","writeLedColor","sleep","time","Promise","resolve","setTimeout","changeColor","color","console","log","led","reading","onButtonPressed","callback","window","thingyOnButtonPressed","eval","variant","preventDuplicate","e","error","useEffect","onStart","connected","buttonPressed","text","square","JSON","stringify","className","card","onChange","value","onClick","size","DinosaurGame","dinoGameText","send","cmd","document","querySelector","contentWindow","postMessage","jumpStart","jumpEnd","onTap","thingyOnTap","onEnd","tapCount","tapDirection","src","location","hostname","pathPrefix","id","width","height","frameBorder","BallGame","ballGameText","moveRight","moveLeft","moveUp","moveDown","onGravityChange","thingyOnGravityChange","gravity","x","y","z","ListItemLink","icon","primary","secondary","to","renderLink","React","useMemo","forwardRef","itemProps","ref","innerRef","ListItem","button","component","ListItemIcon","ListItemText","toolbar","mixins","backgroundColor","palette","main","padding","spacing","textAlign","toolbarImg","maxHeight","maxWidth","Menu","logo","alt","Divider","List","items","map","item","key","path","root","alignItems","justifyContent","message","margin","receiveNewReading","feature","type","receiveNewNotifyReading","featureNotificationStatus","status","notifyUser","category","setFeatureHasEventListener","toggleFeature","toggle","isMicrophone","dispatch","getState","a","notifyFeatures","state","thingy","hasEventListener","featureToUpdateStatusFor","includes","isNot","mtu","write","data","tempData","detail","microphone","play","addEventListener","start","stop","features","f","readFeature","read","writeFeature","onConnectionEvent","ConnectButton","bind","this","Thingy","logEnabled","connect","notifyError","disconnect","Button","fullWidth","Component","battery","Battery","batteryIcon","getBatteryIconFor","batteryLevel","name","firmware","notification","readName","readFirmware","startDisconnectNotification","disconnectListener","startErrorNotification","errorListener","undefined","body","String","startWriteNotification","writeListener","startBatteryNotification","batteryListener","connectButton","drawer","flexShrink","drawerPaper","background","darker","content","flexGrow","default","isConnected","challenges","router","exact","Drawer","paper","createMuiTheme","red","A400","thingyState","temperature","pressure","co2","tvoc","humidity","stepcounter","count","unit","tap","direction","gravityvector","heading","quaternionorientation","w","mode","advertisingparameters","interval","timeout","connectionparameters","minInterval","maxInterval","slaveLatency","eddystone","href","cloudtoken","token","environmentconfiguration","temperatureInterval","pressureInterval","humidityInterval","colorInterval","gasInterval","colorSensorCalibration","blue","green","motionconfiguration","stepCounterInterval","tempCompensationInterval","magnetCompInterval","motionProcessFrequency","wakeOnMotion","samples","tones","pcm","playStatus","combineReducers","action","eCO2","TVOC","colorToRgb","rgb","rgbToColor","CardLedView","disabled","changeMode","r","g","b","UI","changeTab","shutdown","np","setState","ps","startUiFeatures","event","parseInt","target","writeLedMode","rgbConvertedColor","delay","params","intensity","Lesson","store","createStore","AppReducer","applyMiddleware","thunk","ReactDOM","render","ThemeProvider","CssBaseline","maxSnack","basename","ChallengeHeader","position","CodeEditor","placeholder","fontSize","showPrintMargin","showGutter","highlightActiveLine","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize"],"mappings":"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","file":"static/js/main.d3a55a40.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, {Fragment, useEffect} from \"react\";\n\nimport ChallengeHeader from \"components/ui/challenge-header\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CodeEditor from \"components/ui/code-editor\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core\";\nimport {useSnackbar} from \"notistack\";\n\nconst useStyles = makeStyles(theme => ({\n  iframeNode: {\n    display: \"block\"\n  },\n}));\n\nexport default function LightAndSound(props) {\n  const defaultCode = \"// onGravityChange((y, x, z) => {\\n\" +\n    \"//   if (x > 5) moveRight();\\n\" +\n    \"//   if (x < -5) moveLeft();\\n\" +\n    \"//   if (y > 5) moveUp();\\n\" +\n    \"//   if (y < -5) moveDown();\\n\" +\n    \"// })\";\n  const editorText = localStorage.getItem(\"ledAndSound\") || defaultCode;\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    props.onStart();\n  }, [props.connected]);\n\n  useEffect(() => {\n    const isButtonDown = !!props.buttonPressed;\n\n    if (isButtonDown && typeof window.thingyOnButtonPressed === \"function\") {\n      window.thingyOnButtonPressed();\n    }\n  }, [props.buttonPressed]);\n\n  function handleCodeChange(newValue) {\n    localStorage.setItem(\"ledAndSound\", newValue);\n  }\n\n  function executeCode() {\n    const code = localStorage.getItem(\"ledAndSound\");\n    const { writeLedColor } = props;\n\n    function sleep(time) { return new Promise(resolve => setTimeout(resolve, time)); }\n\n    function changeColor(color) {\n      console.log(\"changeColor\", color);\n      writeLedColor(color, { ...props.led.reading });\n    }\n\n    function onButtonPressed(callback) {\n      window.thingyOnButtonPressed = callback;\n    }\n\n    // function changeMode(event) {\n    //   props.writeLedMode(event.target.value, this.state.led.reading);\n    // }\n\n    try {\n      eval(\"(async () => {;\\n\" + code + \"\\n;})()\");\n      enqueueSnackbar(\"Kod wczytany!\", { variant: \"success\", preventDuplicate: true });\n    } catch (e) {\n      console.error(e);\n      enqueueSnackbar(\"Ups... wygląda na to, że kod jest niepoprawny :(\", { variant: \"error\", preventDuplicate: true });\n    }\n  }\n\n  return (\n    <Fragment>\n      <ChallengeHeader text=\"Dioda LED i głośnik\" />\n\n      <Paper square>\n        {JSON.stringify(props.led)}\n      </Paper>\n\n      <Card className={classes.card}>\n        <CardContent>\n          <CodeEditor onChange={handleCodeChange} value={editorText} />\n        </CardContent>\n        <CardActions>\n          <Button onClick={executeCode} size=\"small\" variant=\"contained\" color=\"primary\">\n              Wykonaj\n          </Button>\n          <Button size=\"small\" color=\"primary\">\n              Wyczyśc\n          </Button>\n        </CardActions>\n      </Card>\n\n    </Fragment>\n  );\n}\n","import React, {Fragment, useEffect} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {makeStyles} from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\n\nimport CodeEditor from \"components/ui/code-editor\";\nimport ChallengeHeader from \"components/ui/challenge-header\";\nimport {useSnackbar} from \"notistack\";\nimport {pathPrefix} from \"../../../package.json\";\n\nconst useStyles = makeStyles(theme => ({\n  iframeNode: {\n    display: \"block\"\n  },\n}));\n\nexport default function DinosaurGame(props) {\n  const defaultCode = \"// jumpStart();\\n\" +\n    \"\\n\" +\n    \"// onButtonPressed(jumpStart)\\n\" +\n    \"\\n\" +\n    \"// onTap(() => console.log('tap!'));\\n\" +\n    \"\\n\" +\n    \"// onTap(jumpStart);\";\n  const dinoGameText = localStorage.getItem(\"dinoGame\") || defaultCode;\n  const { enqueueSnackbar } = useSnackbar();\n  const classes = useStyles();\n\n  function send(cmd) {\n    document.querySelector(\"#trex-game-iframe\").contentWindow.postMessage({ cmd });\n  }\n\n  useEffect(() => {\n    if (props.connected) props.onStart();\n    return () => { if (props.connected) props.onEnd(); };\n  }, [props.connected]);\n\n  useEffect(() => {\n    const isButtonDown = !!props.buttonPressed;\n\n    if (isButtonDown && typeof window.thingyOnButtonPressed === \"function\") {\n      window.thingyOnButtonPressed();\n    }\n  }, [props.buttonPressed]);\n\n  useEffect(() => {\n    if (typeof window.thingyOnTap === \"function\") {\n      window.thingyOnTap();\n    }\n  }, [props.tapCount, props.tapDirection]);\n\n  function handleCodeChange(newValue) {\n    localStorage.setItem(\"dinoGame\", newValue);\n  }\n\n  function executeCode() {\n    const code = localStorage.getItem(\"dinoGame\");\n\n    function jumpStart() { send(\"JUMP_PRESSED\"); }\n    function jumpEnd() { send(\"JUMP_RELEADED\"); }\n\n    function onButtonPressed(callback) {\n      window.thingyOnButtonPressed = callback;\n    }\n\n    function onTap(callback) {\n      window.thingyOnTap = callback;\n    }\n\n    eval(code);\n  }\n\n  return (\n    <Fragment>\n      <ChallengeHeader text=\"Gra: Thingozaurus-Rex\" />\n\n      <Paper square>\n        <iframe src={`${window.location.hostname !== \"localhost\" ? pathPrefix : \"\"}/trex-game/dino.game.html`} id=\"trex-game-iframe\" width=\"100%\" height={320} frameBorder={0} className={classes.iframeNode} />\n      </Paper>\n\n      <Card className={classes.card}>\n        <CardContent>\n          <CodeEditor onChange={handleCodeChange} value={dinoGameText} />\n        </CardContent>\n        <CardActions>\n          <Button onClick={executeCode} size=\"small\" variant=\"contained\" color=\"primary\">\n            Wykonaj\n          </Button>\n          <Button size=\"small\" color=\"primary\">\n            Wyczyśc\n          </Button>\n        </CardActions>\n      </Card>\n\n    </Fragment>\n  );\n}\n","import React, {Fragment, useEffect} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {makeStyles} from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\n\nimport CodeEditor from \"components/ui/code-editor\";\nimport ChallengeHeader from \"components/ui/challenge-header\";\nimport {useSnackbar} from \"notistack\";\n\nimport { pathPrefix } from \"../../../package.json\";\n\nconst useStyles = makeStyles(theme => ({\n  iframeNode: {\n    display: \"block\"\n  },\n}));\n\nexport default function BallGame(props) {\n  const defaultCode = \"// onGravityChange((y, x, z) => {\\n\" +\n    \"//   if (x > 5) moveRight();\\n\" +\n    \"//   if (x < -5) moveLeft();\\n\" +\n    \"//   if (y > 5) moveUp();\\n\" +\n    \"//   if (y < -5) moveDown();\\n\" +\n    \"// })\";\n  const ballGameText = localStorage.getItem(\"ballGame\") || defaultCode;\n\n  const classes = useStyles();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  function send(cmd) {\n    document.querySelector(\"#trex-game-iframe\").contentWindow.postMessage({ cmd });\n  }\n\n  useEffect(() => {\n    if (props.connected) {props.onStart();}\n    return () => { if (props.connected) {props.onEnd();} };\n  }, [props.connected]);\n\n  useEffect(() => {\n    const { x, y, z } = props.gravity;\n\n    if (typeof window.thingyOnGravityChange === \"function\") {\n      window.thingyOnGravityChange(x, y, z);\n    }\n  }, [props.gravity]);\n\n  function handleCodeChange(newValue) {\n    localStorage.setItem(\"ballGame\", newValue);\n  }\n\n  function executeCode() {\n    const code = localStorage.getItem(\"ballGame\");\n\n    function moveRight() { send(\"MOVE_RIGHT\"); }\n    function moveLeft() { send(\"MOVE_LEFT\"); }\n    function moveUp() { send(\"MOVE_UP\"); }\n    function moveDown() { send(\"MOVE_DOWN\"); }\n\n    function onGravityChange(callback) {\n      window.thingyOnGravityChange = callback;\n    }\n\n    try {\n      eval(code);\n      enqueueSnackbar(\"Kod wczytany!\", { variant: \"success\", preventDuplicate: true });\n    } catch (e) {\n      console.error(e);\n      enqueueSnackbar(\"Ups... wygląda na to, że kod jest niepoprawny :(\", { variant: \"error\", preventDuplicate: true });\n    }\n  }\n\n  return (\n    <Fragment>\n      <ChallengeHeader text=\"Gra: Kulka-Thingulka\" />\n\n      <Paper square>\n        <iframe src={`${window.location.hostname !== \"localhost\" ? pathPrefix : \"\"}/ball-game/index.html`} id=\"trex-game-iframe\" width=\"100%\" height={320} frameBorder={0} className={classes.iframeNode} />\n      </Paper>\n\n      <Card className={classes.card}>\n        <CardContent>\n          <CodeEditor onChange={handleCodeChange} value={ballGameText} />\n        </CardContent>\n        <CardActions>\n          <Button onClick={executeCode} size=\"small\" variant=\"contained\" color=\"primary\">\n            Wykonaj\n          </Button>\n          <Button size=\"small\" color=\"primary\">\n            Wyczyść\n          </Button>\n        </CardActions>\n      </Card>\n\n    </Fragment>\n  );\n}\n","import React, {Fragment} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {Link as RouterLink} from \"react-router-dom\";\n\nimport logo from \"assets/czarodzieje-logo.png\";\n\nfunction ListItemLink(props) {\n  const { icon, primary, secondary, to } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        // With react-router-dom@^6.0.0 use `ref` instead of `innerRef`\n        // See https://github.com/ReactTraining/react-router/issues/6056\n        <RouterLink to={to} {...itemProps} innerRef={ref} />\n      )),\n    [to],\n  );\n\n  return (\n    <li>\n      <ListItem button component={renderLink}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} secondary={secondary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  toolbar: {\n    ...theme.mixins.toolbar,\n    backgroundColor: theme.palette.primary.main,\n    padding: theme.spacing(1),\n    textAlign: \"center\"\n  },\n  toolbarImg: {\n    maxHeight: \"100%\",\n    maxWidth: \"100%\"\n  },\n}));\n\nexport default function Menu(props) {\n  const classes = useStyles();\n\n  return (\n    <Fragment>\n      <div className={classes.toolbar}>\n        <img src={logo} alt=\"Czarodzieje Kodu\" className={classes.toolbarImg} />\n      </div>\n      <Divider />\n      <List>\n        {props.items.map(item => <ListItemLink key={item.path} to={item.path} primary={item.primary} secondary={item.secondary} />)}\n        <Divider />\n      </List>\n    </Fragment>\n  );\n}\n\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport BluetoothDisabledIcon from \"@material-ui/icons/BluetoothDisabled\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    height: \"80vh\"\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  icon: {\n    backgroundColor: theme.palette.primary.main,\n    color: \"#fff\",\n    padding: theme.spacing(2),\n    margin: theme.spacing(2)\n  }\n}));\n\nexport default function NotConnectedView() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.message}>\n        <div className={classes.icon}>\n          <BluetoothDisabledIcon />\n        </div>\n        <Typography variant=\"h5\">\n          Ups, Twoje Thingy nie jest połączone!\n        </Typography>\n      </div>\n    </div>\n  );\n}\n\n","export const RECEIVE_NEW_READING = \"RECEIVE_NEW_READING\";\nexport const RECEIVE_NEW_NOTIFY_READING = \"RECEIVE_NEW_NOTIFY_READING\";\nexport const FEATURE_NOTIFICATION_STATUS = \"NOTIFY_FEATURE_STATUS\";\nexport const CLEAN_THE_SLATE = \"CLEAN_THE_SLATE\";\nexport const NOTIFY_USER = \"NOTIFY_USER\";\nexport const SET_FEATURE_HAS_EVENT_LISTENER = \"SET_FEATURE_HAS_EVENT_LISTENER\";\n\nexport const receiveNewReading = (feature, reading) => ({\n  type: RECEIVE_NEW_READING,\n  reading: {\n    feature,\n    reading,\n  },\n});\n\nexport const receiveNewNotifyReading = (feature, reading) => ({\n  type: RECEIVE_NEW_NOTIFY_READING,\n  reading: {\n    feature,\n    reading,\n  },\n});\n\nexport const featureNotificationStatus = (feature, status) => ({\n  type: FEATURE_NOTIFICATION_STATUS,\n  status: {\n    feature,\n    status,\n  },\n});\n\nexport const cleanTheSlate = () => ({\n  type: CLEAN_THE_SLATE,\n});\n\nexport const notifyUser = (message, category) => ({\n  type: NOTIFY_USER,\n  message,\n  category,\n});\n\nexport const setFeatureHasEventListener = (feature) => ({\n  type: SET_FEATURE_HAS_EVENT_LISTENER,\n  feature,\n});\n\n// toggle parameter: \"both\" - function as normal toggle, \"on\" - only allow sensors to become active, \"off\" - only allow sensors to go inactive\nexport const toggleFeature = (feature, toggle=\"both\", isMicrophone=false) => {\n  return async (dispatch, getState) => {\n    try {\n      if (feature === \"gas\") {\n        dispatch(notifyFeatures([\"tvoc\", \"co2\"], toggle));\n        return;\n      }\n\n      const state = await getState();\n      const status = state.thingy[feature].status;\n      const hasEventListener = state.thingy[feature].hasEventListener || false;\n\n      if (toggle === \"both\" || (toggle === \"on\" && !status) || (toggle === \"off\" && status)) {\n        const featureToUpdateStatusFor = feature;\n\n        if ([\"tvoc\", \"co2\"].includes(feature)) {\n          const isNot = feature === \"tvoc\" ? \"co2\" : \"tvoc\";\n          const isNotStatus = state.thingy[isNot].status;\n\n          if (isNotStatus) {\n            dispatch(featureNotificationStatus(featureToUpdateStatusFor, !status));\n            return;\n          }\n\n          feature = \"gas\";\n        }\n\n        let e;\n\n        if (isMicrophone) {\n          if (!status) {\n            await window.thingy.mtu.write(276);\n          }\n          e = (data) => {\n            const tempData = data.detail;\n            window.thingy.microphone.play(tempData);\n          };\n        } else {\n          e = (reading) => {\n            dispatch(receiveNewNotifyReading(feature, reading));\n          };\n        }\n\n        if (!status) {\n          if (!hasEventListener) {\n            window.thingy.addEventListener(feature, e);\n            dispatch(setFeatureHasEventListener(feature));\n          }\n          await window.thingy[feature].start();\n          dispatch(featureNotificationStatus(featureToUpdateStatusFor, true));\n        } else {\n          await window.thingy[feature].stop();\n          dispatch(featureNotificationStatus(featureToUpdateStatusFor, false));\n        }\n      }\n    } catch (error) {\n      // These errors might occur because we try to stop several ongoing notify operations after disconnecting from Thingy, which naturally is not possible.\n      // Queue the conditional under\n      if (error.message !== \"Cannot read property 'gattBusy' of undefined\" || error.message !== \"Cannot set property 'gattBusy' of undefined\") {\n        // should actually do something here\n\n        // do\n        // the\n        // something\n      }\n\n      return;\n    }\n  };\n};\n\n// notifies the list of features, given that they are not already active\nconst notifyFeatures = (features, toggle=\"both\") => {\n  return async (dispatch) => {\n    for (const f of features) {\n      await dispatch(toggleFeature(f, toggle));\n    }\n  };\n};\n\nexport const toggleEnvironment = (toggle) => {\n  const environmentFeatures = [\"temperature\", \"pressure\", \"humidity\", \"co2\", \"tvoc\", \"color\"];\n\n  return (dispatch) => {\n    dispatch(notifyFeatures(environmentFeatures, toggle));\n  };\n};\n\nexport const toggleMotion = (toggle) => {\n  const motionFeatures = [\"stepcounter\", \"tap\", \"heading\", \"quaternionorientation\"];\n\n  return (dispatch) => {\n    dispatch(notifyFeatures(motionFeatures, toggle));\n  };\n};\n\n\nexport const writeToSpeaker = (data) => {\n  return async (dispatch, getState) => {\n    await window.thingy.soundconfiguration.write({speakerMode: data.mode});\n    if (data.mode !== 2) {\n      await window.thingy.speakerdata.write(data);\n    } else {\n      let speakerStatusReady = true;\n      try {\n        dispatch(receiveNewReading(\"pcm\", {reading: {playStatus: 1}}));\n        await window.thingy.mtu.write(273);\n        const myLogger = (data) => {\n          const speakerStatus = data.detail.status;\n          switch (speakerStatus) {\n          case 0:\n            speakerStatusReady = true;\n            break;\n          case 1:\n            speakerStatusReady = false;\n            break;\n          case 16:\n            speakerStatusReady = false;\n            break;\n          default:\n            speakerStatusReady = true;\n          }\n        };\n        window.thingy.addEventListener(\"speakerstatus\", myLogger);\n        let index = 0;\n        const packetSize = 160;\n        let packets = 0;\n        let timer;\n        let retries = 0;\n        speakerStatusReady = true;\n        const writeSoundPCMBatch = async () => {\n          // Can write max 273 Bytes (MTU) at a time to the characteristic.\n          // Writing with maximum data payload might result in Thingy speaker buffer filling up and packets will be dropped.\n          // Sending 160 Byte batches has proved to be reliable.\n\n          // check if stop button was pressed\n          const state = getState();\n          if (state.thingy.pcm.reading.reading.playStatus === 0) {\n            return;\n          }\n          if (speakerStatusReady === false) {\n            // Do a sanity check in case notifications have stopped whilst whe are retrying or we might en up in an endless loop of retries.\n            // If there are 10 retries in a row it probably means notifications have stopped.\n            if ((retries > 0) && (retries % 10) === 0) {\n              await window.thingy.speakerstatus.start();\n              retries = 0;\n            } else {\n              retries++;\n            }\n            // Delay execution by 10ms if Thingy audio buffer is almost full\n            timer = setTimeout(function() {\n              writeSoundPCMBatch();\n            }, 10);\n          } else {\n            // write 160 Byte chunks of 8-bit audio data to Thingy\n            if (index + packetSize < data.data.length) {\n              await window.thingy.speakerdata.write({mode: 2, data: data.data.slice(index, index + packetSize)});\n              index += packetSize;\n              packets++;\n              // There is possibly a bug in Chrome that leads to the notification callback not firing. Happens irregularly.\n              // Restart notifications every 20 packets to make sure notifications are running.\n              // This does not add an audible delay to the aduio transmission.\n              if (packets % 20 === 0) {\n                // await window.thingy.speakerstatus.start();\n              }\n              // reset retries on successfull write\n              retries = 0;\n              // Repeat\n              writeSoundPCMBatch();\n            } else {\n              // Send the last bytes\n              if (index < data.data.length) {\n                await window.thingy.speakerdata.write({mode: 2, data: data.data.slice(index, data.data.length - 1)});\n              } else {\n                return;\n              }\n            }\n          }\n        };\n        await window.thingy.speakerstatus.start();\n        await window.thingy.soundconfiguration.write({speakerMode: 2});\n        writeSoundPCMBatch();\n      } catch (error) {\n        // do something\n      }\n    }\n  };\n};\n\nexport const stopAudioStream = () => {\n  return (dispatch) => {\n    dispatch(receiveNewReading(\"pcm\", {reading: {playStatus: 0}}));\n  };\n};\n\nexport const notifyMicrophone = (enable) => {\n  return async (dispatch) => {\n    dispatch(featureNotificationStatus(\"microphone\", enable));\n\n    const myLogger = (data) => {\n      const tempData = data.detail;\n      window.thingy.microphone.play(tempData);\n    };\n\n    if (enable) {\n      try {\n        await window.thingy.mtu.write(276);\n        window.thingy.addEventListener(\"microphone\", myLogger);\n        await window.thingy.microphone.start();\n      } catch (error) {\n        // do something\n      }\n    } else {\n      window.thingy.removeEventListener(\"microphone\", myLogger);\n      await window.thingy.microphone.stop();\n    }\n  };\n};\n\nexport const readFeature = (feature) => {\n  return async (dispatch) => {\n    try {\n      const reading = await window.thingy[feature].read();\n      dispatch(receiveNewReading(feature, reading));\n    } catch (e) {\n      return;\n    }\n  };\n};\n\nexport const writeFeature = (feature, value) => {\n  return async (dispatch) => {\n    try {\n      await window.thingy[feature].write(value);\n      const reading = await window.thingy[feature].read();\n      dispatch(receiveNewReading(feature, reading));\n    } catch (e) {\n      console.error(e);\n    }\n  };\n};\n\nexport const onConnectionEvent = (state) => {\n  return (dispatch) => {\n    dispatch(receiveNewReading(\"connected\", state));\n  };\n};\n\nexport const disconnect = () => {\n  return async (dispatch) => {\n    await window.thingy.disconnect();\n    dispatch(cleanTheSlate());\n  };\n};\n\nexport const triggerIFTTT = (eventName) => {\n  return async (dispatch, getState) => {\n    const state = getState();\n    const key = state.thingy.ifttt.key;\n\n    if (key === \"\") {\n      dispatch(notifyUser({message: \"You have to configure your IFTTT key before you can trigger events on the IFTTT platform\", category: \"warning\"}));\n    } else {\n      if ([\"\", undefined].includes(eventName)) {\n        dispatch(notifyUser({message: \"You can't trigger a nameless event\", category: \"warning\"}));\n      } else {\n        const url = `https://maker.ifttt.com/trigger/${eventName}/with/key/${key}`;\n\n        await fetch(url, {\n          method: \"GET\",\n          credentials: \"omit\",\n          mode: \"no-cors\",\n        });\n\n        dispatch(notifyUser({message: `An event with the name ${String.fromCharCode(parseInt(\"+ab\", 16))}${eventName}${String.fromCharCode(parseInt(\"+bb\", 16))} was triggered on the IFTTT platform`, category: \"success\"}));\n      }\n    }\n  };\n};\n\nexport const startDisconnectNotification = () => {\n  return async (dispatch) => {\n    const disconnectListener = async (e) => {\n      await window.thingy.disconnect();\n      dispatch(cleanTheSlate());\n      dispatch(onConnectionEvent(false));\n      dispatch(notifyUser({message: \"Lost connection to your device. Please try to reconnect\", category: \"error\"}));\n    };\n\n    window.thingy.addEventListener(\"disconnected\", disconnectListener);\n  };\n};\n\nexport const startErrorNotification = () => {\n  return async (dispatch, getState) => {\n    const errorListener = (e) => {\n      if (e.detail !== undefined) {\n        const state = getState();\n        if (state.thingy.connected.reading) {\n          dispatch(notifyUser({message: e.detail.body.message, category: \"error\"}));\n        }\n      } else {\n        dispatch(notifyUser({message: String(e), category: \"error\"}));\n      }\n    };\n    window.thingy.addEventListener(\"error\", errorListener);\n  };\n};\n\nexport const startWriteNotification = () => {\n  return async (dispatch) => {\n    const writeListener = (write) => {\n      const configurationTypes = [\n        \"name\",\n        \"advertisingparameters\",\n        \"connectionparameters\",\n        \"eddystone\",\n        \"cloudtoken\",\n        \"environmentconfiguration\",\n        \"motionconfiguration\",\n      ];\n      if (write.detail) {\n        if (configurationTypes.includes(write.detail.feature)) {\n          dispatch(notifyUser({message: \"Success\", category: \"success\"}));\n        }\n      }\n    };\n    window.thingy.addEventListener(\"write\", writeListener);\n  };\n};\n\nexport const startBatteryNotification = () => {\n  return async (dispatch) => {\n    const batteryListener = (reading) => {\n      dispatch(receiveNewNotifyReading(\"battery\", reading));\n    };\n    window.thingy.addEventListener(\"battery\", batteryListener);\n    const batteryLevel = await window.thingy.battery.read();\n    dispatch(receiveNewReading(\"battery\", batteryLevel));\n    await window.thingy.battery.start();\n  };\n};\n\nexport const notifyError = (e) => {\n  return (dispatch) => {\n    dispatch(notifyUser({message: String(e), category: \"error\"}));\n  };\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Thingy from \"thingy52_web_bluetooth\";\nimport Button from \"@material-ui/core/Button\";\n\nclass ConnectButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.start = this.start.bind(this);\n  }\n\n  async start() {\n    if (!this.props.connected) {\n      try {\n        const thingy = new Thingy({logEnabled: false});\n        window.thingy = thingy;\n        const connected = await window.thingy.connect();\n        if (connected) {\n          this.props.onConnectionEvent(true);\n        }\n      } catch (e) {\n        this.props.notifyError(e);\n      }\n    } else {\n      this.props.onConnectionEvent(false);\n      this.props.disconnect();\n    }\n  }\n\n  render() {\n    const text = this.props.connected\n      ? \"Rozłącz\"\n      : \"Połącz z urządzeniem\";\n\n    return (\n      <div>\n        <Button\n          id=\"connectButton\"\n          backgroundColor=\"transparent\"\n          className=\"buttonRoot\"\n          fullWidth={true}\n          onClick={() => this.start()}\n        >\n          {text}\n        </Button>\n      </div>\n    );\n  }\n}\n\nConnectButton.propTypes = {\n  connected: PropTypes.bool,\n  disconnect: PropTypes.func.isRequired,\n  onConnectionEvent: PropTypes.func.isRequired,\n  notifyError: PropTypes.func,\n};\n\nexport default ConnectButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport BatteryFull from \"@material-ui/icons/BatteryFull\";\nimport Battery20 from \"@material-ui/icons/Battery20\";\nimport Battery30 from \"@material-ui/icons/Battery30\";\nimport Battery50 from \"@material-ui/icons/Battery50\";\nimport Battery60 from \"@material-ui/icons/Battery60\";\nimport Battery80 from \"@material-ui/icons/Battery80\";\nimport Battery90 from \"@material-ui/icons/Battery90\";\n\nconst useStyles = makeStyles({\n  battery: {\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n});\n\nexport default function Battery(props) {\n  const classes = useStyles();\n  const batteryIcon = getBatteryIconFor(props.batteryLevel);\n\n  return (\n    <div className={classes.battery}>\n      {batteryIcon} {props.batteryLevel}%\n    </div>\n  );\n}\n\nconst getBatteryIconFor = (batteryLevel) => {\n  if (batteryLevel <= 20) {\n    return (<Battery20/>);\n  } else if (batteryLevel <= 30) {\n    return (<Battery30/>);\n  } else if (batteryLevel <= 50) {\n    return (<Battery50/>);\n  } else if (batteryLevel <= 60) {\n    return (<Battery60/>);\n  } else if (batteryLevel <= 80) {\n    return (<Battery80/>);\n  } else if (batteryLevel <= 90) {\n    return (<Battery90/>);\n  } else {\n    return (<BatteryFull/>);\n  }\n};\n\nBattery.propTypes = {\n  batteryLevel: PropTypes.number,\n};\n","import {connect} from \"react-redux\";\nimport {readFeature, onConnectionEvent, disconnect, startDisconnectNotification, startErrorNotification, startWriteNotification, startBatteryNotification, notifyError} from \"module/thingy/thingy-actions\";\nimport ConnectionPanel from \"./connection-panel\";\n\nconst mapStateToProps = ({thingy}) => {\n  return ({\n    connected: thingy.connected.reading,\n    name: thingy.name.reading.name,\n    firmware: thingy.firmware.reading.firmware,\n    notification: thingy.notification,\n    batteryLevel: thingy.battery.reading.status,\n  });\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  onConnectionEvent: (state) => {\n    dispatch(onConnectionEvent(state));\n  },\n  readName: () => {\n    dispatch(readFeature(\"name\"));\n  },\n  readFirmware: () => {\n    dispatch(readFeature(\"firmware\"));\n  },\n  disconnect: () => {\n    dispatch(disconnect());\n  },\n  startDisconnectNotification: () => {\n    dispatch(startDisconnectNotification());\n  },\n  startErrorNotification: () => {\n    dispatch(startErrorNotification());\n  },\n  startWriteNotification: () => {\n    dispatch(startWriteNotification());\n  },\n  startBatteryNotification: () => {\n    dispatch(startBatteryNotification(\"battery\", \"on\"));\n  },\n  notifyError: (e) => {\n    dispatch(notifyError(e));\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ConnectionPanel);\n","import React, {Fragment} from \"react\";\nimport ConnectButton from \"./connect-button\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Battery from \"components/ui/battery\";\nimport PropTypes from \"prop-types\";\nimport {useSnackbar} from \"notistack\";\n\n\nexport default function ConnectionPanel(props) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  function onConnectionEvent(state) {\n    props.onConnectionEvent(state);\n    if (state) {\n      props.readName();\n      props.readFirmware();\n\n      enqueueSnackbar(\"Thingy połączone!\");\n      props.startErrorNotification();\n      props.startDisconnectNotification();\n      props.startWriteNotification();\n      props.startBatteryNotification();\n    } else {\n      enqueueSnackbar(\"Thingy rozłączone!\");\n    }\n  }\n\n  const connectButton = <ConnectButton onConnectionEvent={onConnectionEvent} disconnect={props.disconnect} notifyError={props.notifyError} connected={props.connected}/>;\n\n  const battery = props.connected\n    ? <Battery className=\"battery\" batteryLevel={props.batteryLevel}/>\n    : null;\n\n  if (!props.connected) {\n    return connectButton;\n  }\n\n  return (\n    <div>\n      {props.name} ({props.firmware}) {battery}\n      {connectButton}\n    </div>\n  );\n}\n\nConnectionPanel.propTypes = {\n  name: PropTypes.string,\n  notification: PropTypes.object,\n  connected: PropTypes.bool,\n  batteryLevel: PropTypes.number,\n  onConnectionEvent: PropTypes.func,\n  readName: PropTypes.func,\n  readFirmware: PropTypes.func,\n  startErrorNotification: PropTypes.func,\n  startWriteNotification: PropTypes.func,\n  startBatteryNotification: PropTypes.func,\n  startDisconnectNotification: PropTypes.func,\n  notifyError: PropTypes.func,\n  disconnect: PropTypes.func,\n  firmware: PropTypes.string,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Menu from \"components/ui/menu\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport {Route, Switch} from \"react-router-dom\";\n\nimport NotConnectedView from \"../components/not-connected-view\";\nimport ConnectionPanel from \"../components/connection-panel-container\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: theme.palette.background.darker,\n  },\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n  },\n}));\n\nexport default function App(props) {\n  const classes = useStyles();\n  const { isConnected, challenges } = props;\n\n  const router = (\n    <Switch>\n      {challenges.map(item => <Route exact key={item.path} path={item.path} component={item.component} />)}\n    </Switch>\n  );\n\n  return (\n    <div className={classes.root}>\n      <Drawer className={classes.drawer} variant=\"permanent\" classes={{ paper: classes.drawerPaper }}>\n        <Menu items={challenges} />\n        <ConnectionPanel />\n      </Drawer>\n      <main className={classes.content}>\n        {router}\n        {/*{ isConnected ? router : <NotConnectedView /> }*/}\n      </main>\n    </div>\n  );\n}\n\nApp.propTypes = {\n  isConnected: PropTypes.bool,\n  challenges: PropTypes.array\n};\n","import {connect} from \"react-redux\";\nimport App from \"./app\";\n\nconst mapStateToProps = ({ thingy }) => ({\n  isConnected: thingy.connected.reading\n});\n\nexport default connect(mapStateToProps)(App);\n","import { red } from \"@material-ui/core/colors\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#3f51b5\",\n    },\n    secondary: {\n      main: \"#ffff02\",\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      darker: \"#f2f2f2\",\n    },\n  },\n});\n\nexport default theme;\n","import {\n  RECEIVE_NEW_READING,\n  RECEIVE_NEW_NOTIFY_READING,\n  FEATURE_NOTIFICATION_STATUS,\n  CLEAN_THE_SLATE,\n  NOTIFY_USER,\n  SET_FEATURE_HAS_EVENT_LISTENER,\n} from \"module/thingy/thingy-actions\";\n\nconst thingyState = {\n  connected: {\n    reading: false,\n  },\n  temperature: {\n    status: false,\n    reading: undefined,\n  },\n  pressure: {\n    status: false,\n    reading: undefined,\n  },\n  co2: {\n    status: false,\n    reading: undefined,\n  },\n  tvoc: {\n    status: false,\n    reading: undefined,\n  },\n  humidity: {\n    status: false,\n    reading: undefined,\n  },\n  color: {\n    status: false,\n    reading: undefined,\n  },\n  stepcounter: {\n    status: false,\n    reading: {\n      count: 0,\n      time: {\n        unit: \"ms\",\n        value: 0,\n      },\n    },\n  },\n  tap: {\n    status: false,\n    reading: {\n      direction: 0,\n      count: 0,\n    },\n  },\n  gravityvector: {\n    status: false,\n    reading: {\n      value: {\n        x: 0,\n        y: 0,\n        z: 0\n      }\n    },\n  },\n  heading: {\n    status: false,\n    reading: {\n      heading: 0,\n    },\n  },\n  quaternionorientation: {\n    status: false,\n    reading: {\n      x: 0,\n      y: 0,\n      z: 0,\n      w: 0,\n    },\n  },\n  led: {\n    reading: {\n      mode: -1,\n    },\n  },\n  button: {\n    status: false,\n    reading: {\n      value: 0,\n    },\n  },\n  firmware: {\n    reading: {\n      firmware: \"\",\n    },\n  },\n  name: {\n    reading: {\n      name: \"\",\n    },\n  },\n  advertisingparameters: {\n    reading: {\n      interval: 0,\n      timeout: 0,\n    },\n  },\n  connectionparameters: {\n    reading: {\n      minInterval: 8,\n      maxInterval: 4000,\n      slaveLatency: 0,\n      timeout: 100,\n    },\n  },\n  eddystone: {\n    reading: {\n      href: \"\",\n    },\n  },\n  cloudtoken: {\n    reading: {\n      token: \"\",\n    },\n  },\n  environmentconfiguration: {\n    reading: {\n      temperatureInterval: 0,\n      pressureInterval: 0,\n      humidityInterval: 0,\n      colorInterval: 0,\n      gasInterval: 1,\n      colorSensorCalibration: {\n        blue: 0,\n        green: 0,\n        red: 0,\n      },\n    },\n  },\n  motionconfiguration: {\n    reading: {\n      stepCounterInterval: 0,\n      tempCompensationInterval: 0,\n      magnetCompInterval: 0,\n      motionProcessFrequency: 0,\n      wakeOnMotion: 0,\n    },\n  },\n  samples: {\n    reading: undefined,\n  },\n  tones: {\n    reading: undefined,\n  },\n  pcm: {\n    reading: {\n      playStatus: 0,\n    },\n  },\n  microphone: {\n    reading: undefined,\n    status: false,\n  },\n  battery: {\n    reading: {\n      status: 100,\n    },\n  },\n};\n\nexport default (state = thingyState, action) => {\n  switch (action.type) {\n  case RECEIVE_NEW_READING:\n    return {\n      ...state,\n      [action.reading.feature]: {\n        ...state[action.reading.feature],\n        reading: action.reading.reading,\n      },\n    };\n\n  case RECEIVE_NEW_NOTIFY_READING:\n    if (action.reading.feature === \"gas\") {\n      return {\n        ...state,\n        co2: {\n          ...state.co2,\n          reading: (state.co2.status ? action.reading.reading.detail.eCO2 : state.co2.reading),\n        },\n        tvoc: {\n          ...state.tvoc,\n          reading: (state.tvoc.status ? action.reading.reading.detail.TVOC : state.tvoc.reading),\n        },\n      };\n    } else {\n      return {\n        ...state,\n        [action.reading.feature]: {\n          ...state[action.reading.feature],\n          reading: action.reading.reading.detail,\n        },\n      };\n    }\n\n  case FEATURE_NOTIFICATION_STATUS:\n    return {\n      ...state,\n      [action.status.feature]: {\n        ...state[action.status.feature],\n        status: action.status.status,\n      },\n    };\n\n  case CLEAN_THE_SLATE:\n    return thingyState;\n\n  case NOTIFY_USER:\n    return {\n      ...state,\n      notification: action.message,\n    };\n\n  case SET_FEATURE_HAS_EVENT_LISTENER:\n    return {\n      ...state,\n      [action.feature]: {\n        ...state[action.feature],\n        hasEventListener: true,\n      },\n    };\n\n  default:\n    return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport thingy from \"module/thingy/thingy-reducer\";\n\nexport default combineReducers({\n  thingy,\n});\n","// Converts a number representing a color into an RGB value\nexport const colorToRgb = (color) => {\n  let rgb;\n  switch (color) {\n  case 1:\n    rgb = {red: 255, green: 0, blue: 0};\n    break;\n  case 2:\n    rgb = {red: 0, green: 128, blue: 0};\n    break;\n  case 3:\n    rgb = {red: 255, green: 255, blue: 0};\n    break;\n  case 4:\n    rgb = {red: 0, green: 0, blue: 255};\n    break;\n  case 5:\n    rgb = {red: 128, green: 0, blue: 128};\n    break;\n  case 6:\n    rgb = {red: 0, green: 255, blue: 255};\n    break;\n  case 7:\n    rgb = {red: 255, green: 255, blue: 255};\n    break;\n  default:\n    rgb = {red: 0, green: 255, blue: 255};\n  }\n  return rgb;\n};\n\n// Converts an RGB value into a number representing a color\nexport const rgbToColor = (rgb) => {\n  let color;\n  switch (true) {\n  case rgb.red === 255 && rgb.green === 0 && rgb.blue === 0:\n    color = 1;\n    break;\n  case rgb.red === 0 && rgb.green === 128 && rgb.blue === 0:\n    color = 2;\n    break;\n  case rgb.red === 255 && rgb.green === 255 && rgb.blue === 0:\n    color = 3;\n    break;\n  case rgb.red === 0 && rgb.green === 0 && rgb.blue === 255:\n    color = 4;\n    break;\n  case rgb.red === 128 && rgb.green === 0 && rgb.blue === 128:\n    color = 5;\n    break;\n  case rgb.red === 0 && rgb.green === 255 && rgb.blue === 255:\n    color = 6;\n    break;\n  case rgb.red === 255 && rgb.green === 255 && rgb.blue === 255:\n    color = 7;\n    break;\n  default:\n    color = undefined;\n  }\n\n  return color;\n};\n","import React from \"react\";\nimport {rgbToColor} from \"../../../utils/colorConverter\";\n\nexport const CardLedView = (props) => (\n  <div className=\"card_led_view\">\n    <div className=\"led_modes\">\n      <button type=\"button\" className=\"led_mode_button button_blue\" value=\"constant\" disabled={props.feature.reading.mode === 1} onClick={props.changeMode}>Stałe</button>\n      <button type=\"button\" className=\"led_mode_button button_blue\" value=\"breathe\" disabled={props.feature.reading.mode === 2} onClick={props.changeMode}>Pulsujące</button>\n      <button type=\"button\" className=\"led_mode_button button_blue\" value=\"oneshot\" disabled={props.feature.reading.mode === 3} onClick={props.changeMode}>Jednorazowe</button>\n      <button type=\"button\" className=\"led_mode_button button_blue\" value=\"off\" disabled={props.feature.reading.mode === 0} onClick={props.changeMode}>Wyłącz</button>\n    </div>\n    <div className=\"led_colorpicker\">\n      <div>\n        <button type=\"button\" className=\"button red\" value=\"1\" disabled={props.feature.reading.mode === 0 || (props.feature.reading.mode === 1 && rgbToColor({red: props.feature.reading.r, green: props.feature.reading.g, blue: props.feature.reading.b}) === 1) || ([2, 3].includes(props.feature.reading.mode) && props.feature.reading.color === 1)} onClick={props.changeColor}></button>\n        <button type=\"button\" className=\"button green\" value=\"2\" disabled={props.feature.reading.mode === 0 || (props.feature.reading.mode === 1 && rgbToColor({red: props.feature.reading.r, green: props.feature.reading.g, blue: props.feature.reading.b}) === 2) || ([2, 3].includes(props.feature.reading.mode) && props.feature.reading.color === 2)} onClick={props.changeColor}></button>\n        <button type=\"button\" className=\"button yellow\" value=\"3\" disabled={props.feature.reading.mode === 0 || (props.feature.reading.mode === 1 && rgbToColor({red: props.feature.reading.r, green: props.feature.reading.g, blue: props.feature.reading.b}) === 3) || ([2, 3].includes(props.feature.reading.mode) && props.feature.reading.color === 3)} onClick={props.changeColor}></button>\n        <button type=\"button\" className=\"button blue\" value=\"4\" disabled={props.feature.reading.mode === 0 || (props.feature.reading.mode === 1 && rgbToColor({red: props.feature.reading.r, green: props.feature.reading.g, blue: props.feature.reading.b}) === 4) || ([2, 3].includes(props.feature.reading.mode) && props.feature.reading.color === 4)} onClick={props.changeColor}></button>\n      </div>\n      <div>\n        <button className=\"button purple\" value=\"5\" disabled={props.feature.reading.mode === 0 || (props.feature.reading.mode === 1 && rgbToColor({red: props.feature.reading.r, green: props.feature.reading.g, blue: props.feature.reading.b}) === 5) || ([2, 3].includes(props.feature.reading.mode) && props.feature.reading.color === 5)} onClick={props.changeColor}></button>\n        <button className=\"button cyan\" value=\"6\" disabled={props.feature.reading.mode === 0 || (props.feature.reading.mode === 1 && rgbToColor({red: props.feature.reading.r, green: props.feature.reading.g, blue: props.feature.reading.b}) === 6) || ([2, 3].includes(props.feature.reading.mode) && props.feature.reading.color === 6)} onClick={props.changeColor}></button>\n        <button className=\"button white\" value=\"7\" disabled={props.feature.reading.mode === 0 || (props.feature.reading.mode === 1 && rgbToColor({red: props.feature.reading.r, green: props.feature.reading.g, blue: props.feature.reading.b}) === 7 || ([2, 3].includes(props.feature.reading.mode) && props.feature.reading.color === 7))} onClick={props.changeColor}></button>\n      </div>\n    </div>\n  </div>\n);\n","import React, {Fragment} from \"react\";\n\nimport {CardButtonView, CardLedView} from \"./UICards\";\n\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\nimport ChallengeHeader from \"components/ui/challenge-header\";\n\nclass UI extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      led: props.led,\n    };\n\n    this.changeTab = props.changeTab;\n    this.changeColor = this.changeColor.bind(this);\n    this.changeMode = this.changeMode.bind(this);\n    this.shutdown = props.shutdown;\n  }\n\n  componentWillReceiveProps(np) {\n    if (np.button !== this.state.button) {\n      this.setState((ps) => ({\n        ...ps,\n        button: np.button,\n      }));\n    }\n\n    if (np.led !== this.state.led) {\n      this.setState((ps) => ({\n        ...ps,\n        led: np.led,\n      }));\n    }\n  }\n\n  componentDidMount() {\n    this.props.startUiFeatures();\n  }\n\n  changeColor(event) {\n    this.props.writeLedColor(parseInt(event.target.value, 10), this.state.led.reading);\n  }\n\n  changeMode(event) {\n    this.props.writeLedMode(event.target.value, this.state.led.reading);\n  }\n\n  render() {\n    return (\n      <div className=\"content\">\n        <ChallengeHeader text=\"Dioda\" />\n        <CardLedView feature={this.state.led} changeColor={this.changeColor} changeMode={this.changeMode}/>\n      </div>\n    );\n  }\n}\n\nUI.propTypes = {\n  button: PropTypes.object,\n  led: PropTypes.object,\n  changeTab: PropTypes.func,\n  toggleButton: PropTypes.func,\n  stopButton: PropTypes.func,\n  startUiFeatures: PropTypes.func,\n  writeLedColor: PropTypes.func,\n  writeLedMode: PropTypes.func,\n  shutdown: PropTypes.func,\n};\n\nexport default UI;\n","import {connect} from \"react-redux\";\nimport {readFeature, writeFeature} from \"module/thingy/thingy-actions\";\n\nimport {colorToRgb, rgbToColor} from \"utils/colorConverter\";\n\nimport Lesson from './index';\n\nconst mapStateToProps = ({ thingy }) => {\n  return ({\n    led: thingy.led,\n  });\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  startUiFeatures: () => {\n    dispatch(readFeature(\"led\"));\n  },\n  writeLedColor: (color, led) => {\n    let mode;\n    switch (led.mode) {\n    case 0:\n      mode = \"off\";\n      break;\n    case 1:\n      mode = \"constant\";\n      break;\n    case 2:\n      mode = \"breathe\";\n      break;\n    case 3:\n      mode = \"oneshot\";\n      break;\n    default:\n      mode = \"breathe\";\n    }\n\n    const rgbConvertedColor = colorToRgb(color);\n    const red = rgbConvertedColor.red;\n    const green = rgbConvertedColor.green;\n    const blue = rgbConvertedColor.blue;\n\n    const delay = led.delay || 3500;\n    const params = {\n      mode: mode,\n      color: color,\n      intensity: led.intensity,\n      delay: delay,\n      red: red,\n      green: green,\n      blue: blue,\n    };\n\n    console.log({ params });\n    dispatch(writeFeature(\"led\", params));\n  },\n  writeLedMode: (mode, led) => {\n    let color;\n    if (led.mode === 1) {\n      color = rgbToColor({red: led.r, green: led.g, blue: led.b});\n    } else {\n      color = led.color || 6;\n    }\n    const delay = led.delay || 1000;\n    const intensity = led.intensity || 20;\n    const rgbConvertedColor = colorToRgb(color);\n    const red = rgbConvertedColor.red;\n    const green = rgbConvertedColor.green;\n    const blue = rgbConvertedColor.blue;\n    const params = {\n      mode: mode,\n      color: color,\n      intensity: intensity,\n      delay: delay,\n      red: red,\n      green: green,\n      blue: blue,\n    };\n    dispatch(writeFeature(\"led\", params));\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Lesson);\n","import {connect} from \"react-redux\";\nimport {readFeature, toggleFeature, writeFeature} from \"module/thingy/thingy-actions\";\n\nimport {colorToRgb, rgbToColor} from \"utils/colorConverter\";\nimport Lesson from './light-and-sound.js';\n\nconst mapStateToProps = ({ thingy }) => {\n  return ({\n    connected: thingy.connected.reading,\n    buttonPressed: thingy.button.reading.value,\n    led: thingy.led,\n  });\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  onStart: () => {\n    dispatch(readFeature(\"led\"));\n    dispatch(toggleFeature(\"button\", \"on\"));\n  },\n  writeLedColor: (color, led) => {\n    let mode;\n    switch (led.mode) {\n    case 0:\n      mode = \"off\";\n      break;\n    case 1:\n      mode = \"constant\";\n      break;\n    case 2:\n      mode = \"breathe\";\n      break;\n    case 3:\n      mode = \"oneshot\";\n      break;\n    default:\n      mode = \"breathe\";\n    }\n\n    const rgbConvertedColor = colorToRgb(color);\n    const red = rgbConvertedColor.red;\n    const green = rgbConvertedColor.green;\n    const blue = rgbConvertedColor.blue;\n\n    const delay = led.delay || 3500;\n    const params = {\n      mode: mode,\n      color: color,\n      intensity: led.intensity,\n      delay: delay,\n      red: red,\n      green: green,\n      blue: blue,\n    };\n\n    console.log({ params });\n    dispatch(writeFeature(\"led\", params));\n  }\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Lesson);\n","import {connect} from \"react-redux\";\nimport {toggleFeature} from \"module/thingy/thingy-actions\";\n\nimport DinosaurGame from \"components/challenges/dinosaur-game\";\n\nconst mapStateToProps = ({ thingy }) => {\n  return ({\n    connected: thingy.connected.reading,\n    buttonPressed: thingy.button.reading.value,\n    tapDirection: thingy.tap.reading.direction,\n    tapCount: thingy.tap.reading.count\n  });\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  onStart: () => {\n    dispatch(toggleFeature(\"button\", \"on\"));\n    dispatch(toggleFeature(\"tap\", \"on\"));\n  },\n  onEnd: () => {\n  }\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(DinosaurGame);\n","import {connect} from \"react-redux\";\nimport {toggleFeature} from \"module/thingy/thingy-actions\";\n\nimport BallGame from \"components/challenges/ball-game\";\n\nconst mapStateToProps = ({ thingy }) => ({\n  connected: thingy.connected.reading,\n  gravity: thingy.gravityvector.reading.value\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onStart: () => {\n    dispatch(toggleFeature(\"button\", \"on\"));\n    dispatch(toggleFeature(\"gravityvector\", \"on\"));\n  },\n  onEnd: () => {\n    dispatch(toggleFeature(\"gravityvector\", \"off\"));\n  }\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(BallGame);\n","import {connect} from \"react-redux\";\nimport {toggleFeature} from \"module/thingy/thingy-actions\";\n\nimport Sensors from \"./sensors\";\n\nconst mapStateToProps = ({ thingy }) => {\n  return ({\n    buttonPressed: thingy.button.reading.value,\n    tapDirection: thingy.tap.reading.direction,\n    tapCount: thingy.tap.reading.count\n  });\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  onStart: () => {\n    dispatch(toggleFeature(\"button\", \"on\"));\n    dispatch(toggleFeature(\"tap\", \"on\"));\n  }\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Sensors);\n","import LightAndSound2 from \"components/challenges/light-and-sound/container\";\nimport LightAndSound from \"components/challenges/light-and-sound-container\";\nimport DinosaurGame from \"components/challenges/dinosaur-game-container\";\nimport BallGame from \"components/challenges/ball-game-container\";\nimport Sensors from \"components/challenges/sensors-container\";\n\nexport default [\n  { path: \"/sensors\", component: Sensors, primary: \"Zadanie #1\", secondary: \"Czujniki\" },\n  { path: \"/lights\", component: LightAndSound, primary: \"Zadanie #2\", secondary: \"Światło i dźwięk\" },\n  // { path: \"/lights2\", component: LightAndSound2, primary: \"Zadanie #02a\", secondary: \"Światło i dźwięk\" },\n  { path: \"/dino\", component: DinosaurGame, primary: \"Zadanie #3\", secondary: \"Gra: Skaczący Dinozaur\" },\n  { path: \"/ball\", component: BallGame, primary: \"Zadanie #4\", secondary: \"Gra: Kulka\" }\n];\n","import React, {Fragment, useEffect} from \"react\";\n\nimport ChallengeHeader from \"components/ui/challenge-header\";\n\nexport default function DinosaurGame(props) {\n\n\n  useEffect(() => {\n    props.onStart();\n  });\n\n  return (\n    <Fragment>\n      <ChallengeHeader text=\"Sensory\" />\n\n\n    </Fragment>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport App from \"./components/app-container\";\nimport theme from \"./theme\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport {createStore, applyMiddleware} from \"redux\";\nimport {Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport AppReducer from \"./reducers\";\nimport {SnackbarProvider} from \"notistack\";\n\nimport challenges from \"./challenges\";\n\nimport { pathPrefix } from \"../package.json\";\n\nconst store = createStore(AppReducer, applyMiddleware(thunk));\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <Provider store={store}>\n      <SnackbarProvider maxSnack={3}>\n        <Router basename={pathPrefix}>\n          <App challenges={challenges} />\n        </Router>\n      </SnackbarProvider>\n    </Provider>\n  </ThemeProvider>,\n  document.querySelector(\"#root\"),\n);\n","import React from \"react\";\n\nimport AppBar from \"@material-ui/core/AppBar/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {makeStyles} from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n  toolbar: {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport default function ChallengeHeader(props) {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\" color=\"secondary\" className={classes.toolbar}>\n      <Toolbar>\n        <Typography variant=\"h5\">\n          {props.text}\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from \"react\";\nimport AceEditor from \"react-ace\";\n\nimport \"ace-builds/src-noconflict/mode-java\";\nimport \"ace-builds/src-noconflict/theme-github\";\n\nexport default function CodeEditor(props) {\n  return (\n    <AceEditor\n      placeholder=\"Tu wprowadź czarodziejski kod...\"\n      mode=\"javascript\"\n      theme=\"github\"\n      name=\"blah2\"\n      width=\"100%\"\n      height=\"300px\"\n      fontSize={20}\n      showPrintMargin={true}\n      showGutter={true}\n      highlightActiveLine={true}\n      setOptions={{\n        enableBasicAutocompletion: true,\n        enableLiveAutocompletion: false,\n        enableSnippets: false,\n        showLineNumbers: true,\n        tabSize: 2,\n      }}\n      {...props}\n    />\n  );\n}\n"],"sourceRoot":""}