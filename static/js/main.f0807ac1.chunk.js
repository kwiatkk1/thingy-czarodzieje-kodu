(this["webpackJsonpthingy-czarodzieje-kodu"]=this["webpackJsonpthingy-czarodzieje-kodu"]||[]).push([[0],{148:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAABBCAYAAADWpJgZAAAHQklEQVR42u3daWwUZRgH8P/z7ux2i1uqlRZbWmKQiJWotIIJRMAjkRi0HiQajxiPWI8mxisxaIz7wZRoJN6oeJAYY4xRIn7BAxHQaDxoa1AQadVAD4RedIEeOzuvHyq1tDvbXToznS3/37ftvvPOu8/us/O+szNPBTaUUlixYkXgy/Xdy7U2q7TGPAHO0EAYROQw3QNIq4h8g4Dx0aH4F9tTtZZkfwyrMxFWs5YkEnoNoOcyqERekw2hsNR09G5uSStxI2o+AjL1bsuy1gAwGECiCdOmDHXVofjmupSJG1bnICglV8PSnwBaMW5EE25/MJy7oLN3Y/NxS9n/17Rh5OaX5oul1zFpiXzjDLOv7/WRfxxK0AgWInEo8bCGPp2xIvIPDb08z7hs0fC//b+G1RoAbrLbeHlVB5Zf24H8fJORJHJYS3MO1q0txq7fpiR9XizrJgDfHbfGDapTkR9eUNLfG096Bqu6phXPvdzI6BK5qL9fYemCCuz89ZRkT/8a01vOO26qLMjHQNyaYddhzUPNjCqRy3JyLNx1b1vyIy4wY9QaN4BciJZ8uw5nlPYzqkQemFHWb7POlamjEpeIsgsTl4iJS0RMXCJi4hJNFq7dRDBVLRnX9j3WtqzqS0bcrpHq8fNr9uD2u9t8F68XXmvEnfe0ujaukf0de87pfWSioS6CJfMr0xqv12ObkMQ92QxeeGb/eDjLEgaMOFUm4lTZBWvf3Y055UdPePutP9Vn1H73rimovm2OI+Nyo6/Vq8rw7tvTseXHet+Py63Yu/VZ8fPnOOsSd075UVRcGDvh7TPdVkSn1e6cc49gXuVhz/vatzcH+/bmZMW43Iq9W58VP3+OOVUm4lTZ/x66f3ZG7Q8eCKXVbvWqmZhWOOBIX8/VzsS0wnjKNu0HgwCAG24+gEWLe3Ayx97+PSkbM47H3HjLASy8+JBnsfDT2LIicd9+vcSVfjd8PM2xvj5dn35fixb3jPrZ5WSLvRNxPH/eEU8T109j41SZiFNl91Vd3572dMWJvtoPBtP6ps2kr+++GbxDK1uOum7E3ol9lM894tvX7/bYsi5xH1m5z7Eze48+vnfMM64NdZG0EjeTvj58vwgfvl+UdYnrZOwnch+TYWxDU2WNRMC2ESfURJ4Q+4vqJBqNquOOuAaKoS2cn6x1JJKAYYzvt7ndu6ZkvI3dN5uTffnV7ztPgdbiSEwz6atsZj8KiwY8eR/d2kf99jzX9ufF6y843W4qrtWLtd/OBbADAIyQmo6QESiPxxOPJUvPWbN7x/1BPJEraewuznayL78az5VH4+nrkZX7Uk7fvYj9ePexdEGFr96XTF//rLPs882Mmy8VFFx5TWfnxh4V1ud+NhA36+zqKV++rIvzFyKPFBbFcd4Ftie2Lol39e05LXD5rUpDL4PNf+AzDI07qtsYTSIvZ1w1qU5a6iJLW+WSJ5fYLmDve6AFz7zQxEgSeSgeFyyZX4nfdiStrwwlUmt7vjg318KTT//NKBJ5LBjUiK76K2Ub28Tt7VV49umZjCKRxxIJQe1TZ6Zsk/ICjFefL0V1TStKyzIviD685MfWn+rHPC1+rISIUoO/ZXXF/VW6ZqyyLtt+rkvrAoxUZVKIAOCD96ajfntkzCPutwBMu7n2O28UezpoywISCb55dPJa+4r9jR0CdIugSfVL4+KAYVwkQHeyhl99XsBIEnmkoz2IhrqIXdJ+ryOB2d2Jr98xBqxm5OLsehH1jNbWqpGNG//I9de3kU/LzRA5oakx17bQoDKMmu7Ypo6hNe6A7EdQihuQZIoaiwVgmjLuyx6dkk75kIkoN0PkhM6OoN1T+sEnLv4lGt00tMYFtAWBmKnWnUTkPvtcEysajQ4968ltfemU/MjGsi7kT38hhB4Esnbs6fAkcSdrWReiicI7bYmykCdH3Krr21Pe5wkMVgfM5rIuRJMucdMp+ZHtZV2IOFUmook/4jopnfIhE1HWxclyM0STLnEnU1kXIk6ViXjEJRq0FyF0ZenFDEzcE5DpvabzKg/bbuPkfat+7YuIU2UiJi4RcY1LSf3j07eil9/tTFyytx9BBoE4VSaa9IlroRdaLNubYNtaWfmByAsdrcnvxxXo2KjETSAGw8ixvSzozVdLGFEil5mmYMPawqTPaUjLqDWuaXXC7OtrFsifGnrWyI1eWl2KttYQrrq2A3lTWTuVyGltLSG89VoJ9tQnv55dBNughx+B/5OnLgWAWmi9kmEk8pdAQC3tNjdvG5W4Sk1BJLK4ALH+Jg2cylAR+YMAX/boLVeMWuMCgGUdhXm4pVOUqgagGS4iX2iXnNA9o47Awx/E9QEEZfpOJcEuQJYNPyITkfdJi0Cgqmdg046UiQsAA7oZIsYPRiD/B9GyEAD/BwmR99PjTSonlDRpkeqIqpSBioo7g3samm7UlnWdQFdqSDGg+aMukfOJGtNAswi2KiUfdJtfb03V/l9YKg8DJI8iXQAAAABJRU5ErkJggg=="},16:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));const n=e=>{let t;switch(e){case 1:t={red:255,green:0,blue:0};break;case 2:t={red:0,green:128,blue:0};break;case 3:t={red:255,green:255,blue:0};break;case 4:t={red:0,green:0,blue:255};break;case 5:t={red:128,green:0,blue:128};break;case 6:t={red:0,green:255,blue:255};break;case 7:t={red:255,green:255,blue:255};break;default:t={red:0,green:255,blue:255}}return t},i=e=>{let t;switch(!0){case 255===e.red&&0===e.green&&0===e.blue:t=1;break;case 0===e.red&&128===e.green&&0===e.blue:t=2;break;case 255===e.red&&255===e.green&&0===e.blue:t=3;break;case 0===e.red&&0===e.green&&255===e.blue:t=4;break;case 128===e.red&&0===e.green&&128===e.blue:t=5;break;case 0===e.red&&255===e.green&&255===e.blue:t=6;break;case 255===e.red&&255===e.green&&255===e.blue:t=7;break;default:t=void 0}return t}},167:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Led}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),notistack__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35),notistack__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(notistack__WEBPACK_IMPORTED_MODULE_1__),components_ui_challenge_frame__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(42),components_ui_code_editor_card__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(56),utils_use_markdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),components_challenges_led_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(174),components_challenges_led_md__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(components_challenges_led_md__WEBPACK_IMPORTED_MODULE_5__),components_challenges_led_panel_card__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(175);function Led(props){const markdownText=Object(utils_use_markdown__WEBPACK_IMPORTED_MODULE_4__.a)(components_challenges_led_md__WEBPACK_IMPORTED_MODULE_5___default.a),_useSnackbar=Object(notistack__WEBPACK_IMPORTED_MODULE_1__.useSnackbar)(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;function executeCode(code){const writeLedColor=props.writeLedColor,writeLedMode=props.writeLedMode,writeBrightness=props.writeBrightness,writeCustom=props.writeCustom,currentState=props.led.reading;function sleep(e){return new Promise(t=>setTimeout(t,e))}function changeColor(e){writeLedColor(e,currentState)}function changeColor(e){writeLedColor(e,currentState)}function changeMode(e){writeLedMode(e,currentState)}const changeBrightness=e=>writeBrightness(e,currentState),customColor=(e,t,r)=>writeCustom({red:e,green:t,blue:r},currentState),playSample=e=>{props.playAudio({mode:3,sample:e})};function onButtonPressed(e){window.ledOnButtonPressed=e}try{eval("(async () => {;\n"+code+'\n;})().catch(e => { enqueueSnackbar("Ups... wygl\u0105da na to, \u017ce kod jest niepoprawny :(", { variant: "error", preventDuplicate: true }); })'),enqueueSnackbar("Kod wczytany!",{variant:"success",preventDuplicate:!0})}catch(e){console.error(e),enqueueSnackbar("Ups... wygl\u0105da na to, \u017ce kod jest niepoprawny :(",{variant:"error",preventDuplicate:!0})}}function handleChangeColor(e){props.writeLedColor(parseInt(e.target.value,10),props.led.reading)}function handleChangeMode(e){props.writeLedMode(e.currentTarget.value,props.led.reading)}return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{props.onStart()},[props.connected]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{!!props.buttonPressed&&"function"===typeof window.ledOnButtonPressed&&window.ledOnButtonPressed()},[props.buttonPressed]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_challenge_frame__WEBPACK_IMPORTED_MODULE_2__.a,{headerText:"Dioda LED",markdownText:markdownText,showcasePanel:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_challenges_led_panel_card__WEBPACK_IMPORTED_MODULE_6__.a,{feature:props.led,changeColor:handleChangeColor,changeMode:handleChangeMode}),codePanel:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_code_editor_card__WEBPACK_IMPORTED_MODULE_3__.a,{name:"ledAndSound",onRun:executeCode})})}},174:function(e,t,r){e.exports=r.p+"static/media/led.1423d2be.md"},175:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),i=r.n(n),a=r(16),o=r(87),s=r(518);r(511);const c=e=>{const t=e.changeMode,r=e.changeColor,n=e.feature.reading,c=n.mode,d=n.color,u=n.r,h=n.g,l=n.b,_=Object(a.b)({red:u,green:h,blue:l}),p=1===c,g=2===c,m=3===c,f=0===c;return i.a.createElement("div",{className:"card_led_view"},i.a.createElement("div",{className:"led_modes"},i.a.createElement(s.a,{fullWidth:!0,size:"small"},i.a.createElement(o.a,{type:"button",value:"constant",color:p?"primary":"",disabled:p,onClick:t},"Sta\u0142e"),i.a.createElement(o.a,{type:"button",value:"breathe",color:g?"primary":"",disabled:g,onClick:t},"Pulsuj\u0105ce"),i.a.createElement(o.a,{type:"button",value:"oneshot",color:m?"primary":"",disabled:m,onClick:t},"Jednorazowe"),i.a.createElement(o.a,{type:"button",value:"off",color:4===c?"primary":"",disabled:f,onClick:t},"Wy\u0142\u0105cz"))),i.a.createElement("div",{className:"led_colorpicker"},i.a.createElement("div",null,i.a.createElement("button",{type:"button",className:"button red",value:"1",disabled:f||p&&1===_||[2,3].includes(c)&&1===d,onClick:r}),i.a.createElement("button",{type:"button",className:"button green",value:"2",disabled:f||p&&2===_||[2,3].includes(c)&&2===d,onClick:r}),i.a.createElement("button",{type:"button",className:"button yellow",value:"3",disabled:f||p&&3===_||[2,3].includes(c)&&3===d,onClick:r}),i.a.createElement("button",{type:"button",className:"button blue",value:"4",disabled:f||p&&4===_||[2,3].includes(c)&&4===d,onClick:r})),i.a.createElement("div",null,i.a.createElement("button",{className:"button purple",value:"5",disabled:f||p&&5===_||[2,3].includes(c)&&5===d,onClick:r}),i.a.createElement("button",{className:"button cyan",value:"6",disabled:f||p&&6===_||[2,3].includes(c)&&6===d,onClick:r}),i.a.createElement("button",{className:"button white",value:"7",disabled:f||p&&7===_||[2,3].includes(c)&&7===d,onClick:r}))))}},176:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Dino}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),components_ui_code_editor_card__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),components_ui_game_frame__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59),components_ui_challenge_frame__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),utils_use_markdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),components_challenges_dino_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(177),components_challenges_dino_md__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(components_challenges_dino_md__WEBPACK_IMPORTED_MODULE_5__),notistack__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),notistack__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(notistack__WEBPACK_IMPORTED_MODULE_6__);const GAME_NAME="trex-game";function Dino(props){const markdownText=Object(utils_use_markdown__WEBPACK_IMPORTED_MODULE_4__.a)(components_challenges_dino_md__WEBPACK_IMPORTED_MODULE_5___default.a),_useSnackbar=Object(notistack__WEBPACK_IMPORTED_MODULE_6__.useSnackbar)(),enqueueSnackbar=_useSnackbar.enqueueSnackbar,trexGameCommand=e=>Object(components_ui_game_frame__WEBPACK_IMPORTED_MODULE_2__.b)(GAME_NAME,e);function executeCode(code){function jumpStart(){trexGameCommand("JUMP_PRESSED")}function jumpEnd(){trexGameCommand("JUMP_RELEADED")}function onButtonPressed(e){window.dinoOnButtonPressed=e}function onTap(e){window.dinoOnTap=e}const playSample=e=>{props.playAudio({mode:3,sample:e})};try{eval(code),enqueueSnackbar("Kod wczytany!",{variant:"success",preventDuplicate:!0})}catch(e){console.error(e),enqueueSnackbar("Ups... wygl\u0105da na to, \u017ce kod jest niepoprawny :(",{variant:"error",preventDuplicate:!0})}}return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>(props.connected&&props.onStart(),()=>{props.connected&&props.onEnd()}),[props.connected]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{!!props.buttonPressed&&"function"===typeof window.dinoOnButtonPressed&&window.dinoOnButtonPressed()},[props.buttonPressed]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{"function"===typeof window.dinoOnTap&&window.dinoOnTap()},[props.tap]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_challenge_frame__WEBPACK_IMPORTED_MODULE_3__.a,{headerText:"Gra: Thingozaurus-Rex",markdownText:markdownText,showcasePanel:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_game_frame__WEBPACK_IMPORTED_MODULE_2__.a,{id:GAME_NAME,publicPath:"/trex-game/dino.game.html"}),codePanel:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_code_editor_card__WEBPACK_IMPORTED_MODULE_1__.a,{name:"dinoGame",onRun:executeCode})})}},177:function(e,t,r){e.exports=r.p+"static/media/dino.e4ba7355.md"},178:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Ball}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),notistack__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35),notistack__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(notistack__WEBPACK_IMPORTED_MODULE_1__),components_ui_code_editor_card__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(56),components_ui_game_frame__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(59),components_ui_challenge_frame__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(42),utils_use_markdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41),components_challenges_ball_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(179),components_challenges_ball_md__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(components_challenges_ball_md__WEBPACK_IMPORTED_MODULE_6__);const GAME_NAME="ball-game";function Ball(props){const markdownText=Object(utils_use_markdown__WEBPACK_IMPORTED_MODULE_5__.a)(components_challenges_ball_md__WEBPACK_IMPORTED_MODULE_6___default.a),_useSnackbar=Object(notistack__WEBPACK_IMPORTED_MODULE_1__.useSnackbar)(),enqueueSnackbar=_useSnackbar.enqueueSnackbar,dinoGameCommand=(e,t)=>Object(components_ui_game_frame__WEBPACK_IMPORTED_MODULE_3__.b)(GAME_NAME,e,t);function executeCode(code){function moveRight(e){dinoGameCommand("MOVE_RIGHT",{value:e})}function moveLeft(e){dinoGameCommand("MOVE_LEFT",{value:e})}function moveUp(e){dinoGameCommand("MOVE_UP",{value:e})}function moveDown(e){dinoGameCommand("MOVE_DOWN",{value:e})}function onGravityChange(e){window.ballOnGravityChange=e}const writeLedColor=props.writeLedColor,writeLedMode=props.writeLedMode,writeBrightness=props.writeBrightness,writeCustom=props.writeCustom,currentState=props.led.reading;function sleep(e){return new Promise(t=>setTimeout(t,e))}function changeColor(e){writeLedColor(e,currentState)}function changeColor(e){writeLedColor(e,currentState)}function changeMode(e){writeLedMode(e,currentState)}const changeBrightness=e=>writeBrightness(e,currentState),customColor=(e,t,r)=>writeCustom({red:e,green:t,blue:r},currentState),playSample=e=>{props.playAudio({mode:3,sample:e})};try{eval(code),enqueueSnackbar("Kod wczytany!",{variant:"success",preventDuplicate:!0})}catch(e){console.error(e),enqueueSnackbar("Ups... wygl\u0105da na to, \u017ce kod jest niepoprawny :(",{variant:"error",preventDuplicate:!0})}}return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>(props.connected&&props.onStart(),()=>{props.connected&&props.onEnd()}),[props.connected]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const e=!!props.buttonPressed;window.isButtonDown=e,e&&"function"===typeof window.thingyOnButtonPressed&&window.thingyOnButtonPressed()},[props.buttonPressed]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const e=props.gravity,t=e.x,r=e.y,n=e.z;"function"===typeof window.ballOnGravityChange&&window.ballOnGravityChange(t,r,n)},[props.gravity]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_challenge_frame__WEBPACK_IMPORTED_MODULE_4__.a,{headerText:"Gra: Kulka-Thingulka",markdownText:markdownText,showcasePanel:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_game_frame__WEBPACK_IMPORTED_MODULE_3__.a,{id:GAME_NAME,publicPath:"/ball-game/index.html"}),codePanel:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ui_code_editor_card__WEBPACK_IMPORTED_MODULE_2__.a,{name:"ballGame",onRun:executeCode})})}},179:function(e,t,r){e.exports=r.p+"static/media/ball.985f2a4a.md"},180:function(e,t,r){e.exports=r.p+"static/media/sensors.2cd26bee.md"},189:function(e,t,r){e.exports=r(515)},41:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(55),i=r(0);function a(e){const t=Object(i.useState)(""),r=Object(n.a)(t,2),a=r[0],o=r[1];return Object(i.useEffect)(()=>{fetch(e).then(e=>e.text()).then(e=>o(e))},[e]),a}},42:function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(65),o=r(168),s=r.n(o),c=r(570),d=r(170);function u(e){const t=e.language,r=e.value;return i.a.createElement(c.a,{language:t,style:d.a},r)}u.defaultProps={language:null};const h=Object(a.a)(e=>({markdown:{}}));function l(e){const t=h();return i.a.createElement(s.a,{className:t.markdown,renderers:{code:u},source:e.input})}var _=r(171),p=r.n(_),g=r(566),m=r(67);const f=Object(a.a)(e=>({toolbar:{padding:e.spacing(1.05),boxShadow:e.shadows[2]}}));function y(e){const t=f();return i.a.createElement(p.a,{position:"static",color:"secondary",className:t.toolbar},i.a.createElement(g.a,null,i.a.createElement(m.a,{variant:"h5"},e.text)))}r.d(t,"a",(function(){return b}));const E=Object(a.a)(e=>({root:{display:"flex",flexDirection:"column",height:"100vh"},main:{flexGrow:1,display:"flex",height:"calc(100vh - 81px)"},sourcePanel:{flexGrow:1,display:"flex",flexDirection:"column"},codePanel:{flexGrow:1,flexShrink:1},textPanel:{width:"40em",flexShrink:0,padding:e.spacing(2),overflowY:"scroll",height:"calc(100vh - 81px)"}}));function b(e){const t=E(),r=e.headerText,n=e.markdownText,a=e.showcasePanel,o=e.codePanel;return i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.header},i.a.createElement(y,{text:r})),i.a.createElement("div",{className:t.main},i.a.createElement("div",{className:t.sourcePanel},a,i.a.createElement("div",{className:t.codePanel},o)),i.a.createElement("div",{className:t.textPanel},n?i.a.createElement(l,{input:n}):null)))}},511:function(e,t,r){},515:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(9),o=r.n(a),s=r(568),c=r(207),d=r(20),u=r(65),h=r(6),l=r(558),_=r(557),p=r(571),g=r(555),m=r(556),f=r(48),y=r(148),E=r.n(y);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){Object(h.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){const t=e.icon,r=e.primary,n=e.secondary,a=e.to,o=i.a.useMemo(()=>i.a.forwardRef((e,t)=>i.a.createElement(f.b,Object.assign({to:a},e,{innerRef:t}))),[a]);return i.a.createElement("li",null,i.a.createElement(p.a,{button:!0,component:o},t?i.a.createElement(g.a,null,t):null,i.a.createElement(m.a,{primary:r,secondary:n})))}const O=Object(u.a)(e=>({toolbar:w({},e.mixins.toolbar,{backgroundColor:e.palette.primary.main,padding:e.spacing(1),textAlign:"center"}),toolbarImg:{maxHeight:"100%",maxWidth:"100%"}}));function U(e){const t=O();return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:t.toolbar},i.a.createElement("img",{src:E.a,alt:"Czarodzieje Kodu",className:t.toolbarImg})),i.a.createElement(_.a,null),i.a.createElement(l.a,null,e.items.map(e=>i.a.createElement(v,{key:e.path,to:e.path,primary:e.primary,secondary:e.secondary})),i.a.createElement(_.a,null)))}var D=r(569),I=r(45),C=r(67),T=r(79),P=r.n(T);const S=Object(u.a)(e=>({root:{display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"column",width:"100%",height:"80vh",textAlign:"center"},thingyName:{color:"#ccc"}}));function M(){const e=S(),t=localStorage.getItem("thingyName");return i.a.createElement("div",{className:e.root},i.a.createElement("img",{src:P.a,alt:""}),i.a.createElement("div",{className:e.message},i.a.createElement(C.a,{variant:"h5"},"Ups, Twoje Thingy nie jest po\u0142\u0105czone!"),t?i.a.createElement(C.a,{variant:"h6",className:e.thingyName},t):null))}const k=(e,t)=>({type:"RECEIVE_NEW_READING",reading:{feature:e,reading:t}}),A=(e,t)=>({type:"RECEIVE_NEW_NOTIFY_READING",reading:{feature:e,reading:t}}),x=(e,t)=>({type:"NOTIFY_FEATURE_STATUS",status:{feature:e,status:t}}),j=(e,t)=>({type:"NOTIFY_USER",message:e,category:t}),R=(e,t="both",r=!1)=>async(n,i)=>{try{if("gas"===e)return void n(L(["tvoc","co2"],t));const a=await i(),o=a.thingy[e].status,s=a.thingy[e].hasEventListener||!1;if("both"===t||"on"===t&&!o||"off"===t&&o){const t=e;if(["tvoc","co2"].includes(e)){const r="tvoc"===e?"co2":"tvoc";if(a.thingy[r].status)return void n(x(t,!o));e="gas"}let i;r?(o||await window.thingy.mtu.write(276),i=e=>{const t=e.detail;window.thingy.microphone.play(t)}):i=t=>{n(A(e,t))},o?(await window.thingy[e].stop(),n(x(t,!1))):(s||(window.thingy.addEventListener(e,i),n((e=>({type:"SET_FEATURE_HAS_EVENT_LISTENER",feature:e}))(e))),await window.thingy[e].start(),n(x(t,!0)))}}catch(a){return void("Cannot read property 'gattBusy' of undefined"!==a.message||a.message)}},L=(e,t="both")=>async r=>{for(const n of e)await r(R(n,t))},N=e=>async(t,r)=>{if(await window.thingy.soundconfiguration.write({speakerMode:e.mode}),2!==e.mode)await window.thingy.speakerdata.write(e);else{let i=!0;try{t(k("pcm",{reading:{playStatus:1}})),await window.thingy.mtu.write(273);const n=e=>{switch(e.detail.status){case 0:i=!0;break;case 1:case 16:i=!1;break;default:i=!0}};window.thingy.addEventListener("speakerstatus",n);let a=0;const o=160;let s,c=0,d=0;i=!0;const u=async()=>{if(0!==r().thingy.pcm.reading.reading.playStatus)if(!1===i)d>0&&d%10===0?(await window.thingy.speakerstatus.start(),d=0):d++,s=setTimeout((function(){u()}),10);else if(a+o<e.data.length)await window.thingy.speakerdata.write({mode:2,data:e.data.slice(a,a+o)}),a+=o,c++,d=0,u();else{if(!(a<e.data.length))return;await window.thingy.speakerdata.write({mode:2,data:e.data.slice(a,e.data.length-1)})}};await window.thingy.speakerstatus.start(),await window.thingy.soundconfiguration.write({speakerMode:2}),u()}catch(n){}}},B=e=>async t=>{try{const r=await window.thingy[e].read();t(k(e,r))}catch(r){return}},W=(e,t)=>async r=>{try{await window.thingy[e].write(t);const n=await window.thingy[e].read();r(k(e,n))}catch(n){console.error(n)}},q=e=>t=>{t(k("connected",e))};function K(e,t){for(const r in t)Object.defineProperty(e,r,{configurable:!0,value:t[r]})}const G=(e,...t)=>(class extends e{constructor(...e){super(e);const t=document.createDocumentFragment();this.addEventListener=(e,...r)=>t.addEventListener(e,...r),this.removeEventListener=(...e)=>t.removeEventListener(...e),this.dispatchEvent=e=>{K(e,{currentTarget:this}),e.target||K(e,{target:this});const r=`on${e.type}`;"function"===typeof this[r]&&this[r](e);const n=t.dispatchEvent(e);return n&&this.parentNode&&this.parentNode.dispatchEvent(e),K(e,{currentTarget:null,target:null}),n}}});class z extends(G(Object)){}var F=class extends z{constructor(e){super(),this.device=e}async wait(e){return new Promise(t=>setTimeout(t,e))}processEvent(e,t,r,n=this.device){let i;switch(!0){case e===t||"operationdiscarded"===e:i=r;break;default:i={feature:t,body:r}}const a=new CustomEvent(e,{detail:i});n.dispatchEvent(a)}};var V=class{constructor(e){this.setDevice(e),this.utilities=new F(e),this._initialize()}_initialize(){void 0===window.thingyController&&(window.thingyController={}),void 0===window.thingyController[this.tid]&&(window.thingyController[this.tid]={}),void 0===window.thingyController[this.tid].gattStatus&&(window.thingyController[this.tid].gattStatus=!0),void 0===window.thingyController[this.tid].queuedOperations&&(window.thingyController[this.tid].queuedOperations=[]),void 0===window.thingyController[this.tid].executingQueuedOperations&&(window.thingyController[this.tid].executingQueuedOperations=!1),void 0===window.thingyController[this.tid].executedOperations&&(window.thingyController[this.tid].executedOperations=[])}addExecutedOperation(e,t){this.device.getConnected()&&window.thingyController[this.tid].executedOperations.push({feature:e,method:t})}clearExecutedOperations(){window.thingyController[this.tid].executedOperations=[]}setGattStatus(e){this.device.getConnected()&&(window.thingyController[this.tid].gattStatus=e,e&&this.utilities.processEvent("gattavailable"))}getGattStatus(){if(this.device.getConnected())return window.thingyController[this.tid].gattStatus}getNumQueuedOperations(){if(this.device.getConnected())return window.thingyController[this.tid].queuedOperations.length}getQueuedOperation(e){if(this.device.getConnected()&&window.thingyController[this.tid].queuedOperations.length>=e)return window.thingyController[this.tid].queuedOperations[e]}removeQueuedOperation(e){if(this.device.getConnected())if(Number.isInteger(e))window.thingyController[this.tid].queuedOperations.splice(e,1);else for(let t=0;t<this.getNumQueuedOperations();t++){const r=this.getQueuedOperation(t);e.feature===r.feature&&e.method===r.method&&(this.removeQueuedOperation(t),t--)}}enqueue(e,t,r){this.device.getConnected()&&(window.thingyController[this.tid].queuedOperations.push({feature:e,method:t,f:r}),this.utilities.processEvent("operationqueued"))}dequeue(){if(this.device.getConnected())return window.thingyController[this.tid].queuedOperations.shift()}setExecutingQueuedOperations(e){this.device.getConnected()&&(window.thingyController[this.tid].executingQueuedOperations=e,e&&this.clearExecutedOperations())}getExecutingQueuedOperations(){if(this.device.getConnected())return window.thingyController[this.tid].executingQueuedOperations}getDevice(){return this.device}setDevice(e){this.device=e,this.tid=e.device.id}getExecutedOperation(e){if(this.device.getConnected())return window.thingyController[this.tid].executedOperations[e]}getNumExecutedOperations(){if(this.device.getConnected())return window.thingyController[this.tid].executedOperations.length}terminate(){window.thingyController[this.tid]=void 0}};var Q=class{constructor(e,t){this.device=e,this.utilities=new F(this.device),this.type=t||this.constructor.name,this.latestReading=new Map}async _connect(){if("thingyController"in this||(this.thingyController=new V(this.device)),this.thingyController.addExecutedOperation(this.type,"connect"),"connected"in this.characteristic&&this.characteristic.connected)return this.device.logEnabled&&console.log(`You're already connected to the ${this.type} feature`),!0;if(!this.thingyController.getGattStatus())return this.thingyController.enqueue(this.type,"connect",this._connect.bind(this)),!1;try{return this.thingyController.setGattStatus(!1),this.service.service=await this.device.server.getPrimaryService(this.service.uuid),this.characteristic.characteristic=await this.service.service.getCharacteristic(this.characteristic.uuid),this.thingyController.setGattStatus(!0),this.characteristic.connected=!0,this.characteristic.notifying=!1,this.characteristic.hasEventListener=!1,this.device.logEnabled&&console.log(`Connected to the ${this.type} feature`),!0}catch(e){return"thingyController"in this&&(this.thingyController.setGattStatus(!0),this.thingyController.enqueue(this.type,"connect",this._connect.bind(this))),this.characteristic.connected=!1,"utilities"in this&&this.utilities.processEvent("error",this.type,e),!1}}async _read(e=!1){try{let t=0,r=0,n=!1;for(this.characteristic.connected||await this._connect();!this.characteristic.connected;){if(250===++t){const e=new Error(`As we couldn't connect to the ${this.type} feature, the read operation can't be executed`);return this.utilities.processEvent("error",this.type,e),!1}await this.utilities.wait(20)}if(this.thingyController.addExecutedOperation(this.type,"read"),!this.hasProperty("read")){const e=new Error(`The ${this.type} feature does not support the read method`);return this.utilities.processEvent("error",this.type,e),!1}if(!this.characteristic.decoder){const e=new Error("The characteristic you're trying to read does not have a specified decoder");return this.utilities.processEvent("error",this.type,e),!1}for(;!1===n;){if(250===++r){const e=new Error("We could not process your read request at the moment due to high operational traffic");return this.utilities.processEvent("error",this.type,e),!1}if(this.thingyController.getGattStatus()){this.thingyController.setGattStatus(!1);let t=await this.characteristic.characteristic.readValue();this.thingyController.setGattStatus(!0),!0!==e&&(t=await this.characteristic.decoder(t)),n=t}else await this.utilities.wait(20)}return n}catch(t){return this.thingyController.setGattStatus(!0),this.utilities.processEvent("error",this.type,t),!1}}async _write(e){try{if(void 0===e){const e=new Error("You have to write a non-empty body");return this.utilities.processEvent("error",this.type,e),!1}let t=0,r=0,n=!1;for(this.characteristic.connected||await this._connect();!this.characteristic.connected;){if(250===++t){const e=new Error(`As we couldn't connect to the ${this.type} feature, the write operation can't be executed`);return this.utilities.processEvent("error",this.type,e),!1}await this.utilities.wait(20)}if(this.thingyController.addExecutedOperation(this.type,"write"),!this.hasProperty("write")&&!this.hasProperty("writeWithoutResponse")){const e=new Error(`The ${this.type} feature does not support the write or writeWithoutResponse method`);return this.utilities.processEvent("error",this.type,e),!1}if(!this.characteristic.encoder){const e=new Error("The characteristic you're trying to write does not have a specified encoder");return this.utilities.processEvent("error",this.type,e),!1}for(;!1===n;){if(250===++r){const e=new Error("We could not process your read request at the moment due to high operational traffic");return this.utilities.processEvent("error",this.type,e),!1}if(this.thingyController.getGattStatus()){const t=await this.characteristic.encoder(e);this.thingyController.setGattStatus(!1),await this.characteristic.characteristic.writeValue(t),this.thingyController.setGattStatus(!0),this.utilities.processEvent("write",this.type,e),n=!0}else await this.utilities.wait(20)}return n}catch(t){return this.thingyController.setGattStatus(!0),this.utilities.processEvent("error",this.type,t),!1}}async _notify(e,t=!1){if(!0!==e&&!1!==e){const e=new Error("You have to specify the enable parameter (true/false)");return void this.utilities.processEvent("error",this.type,e)}if(!this.characteristic.connected){if(!await this._connect())return this.thingyController.enqueue(this.type,e?"start":"stop",this._notify.bind(this,e,t)),!1}if(this.thingyController.addExecutedOperation(this.type,e?"start":"stop"),!this.hasProperty("notify")&&!this.hasProperty("indicate")){const e=new Error(`The ${this.type} feature does not support the start/stop methods`);return void this.utilities.processEvent("error",this.type,e)}if(e===this.characteristic.notifying)return this.device.logEnabled&&console.log(`The ${this.type} feature has already ${this.characteristic.notifying?"enabled":"disabled"} notifications`),!0;if(!this.characteristic.decoder){const e=new Error("The characteristic you're trying to notify does not have a specified decoder");return void this.utilities.processEvent("error",this.type,e)}const r=async e=>{try{const r=await this.characteristic.decoder(e.target.value);t||this.utilities.processEvent(this.type,this.type,r)}catch(r){this.utilities.processEvent("error",this.type,r)}},n=this.characteristic.characteristic;if(!this.thingyController.getGattStatus())return this.thingyController.enqueue(this.type,e?"start":"stop",this._notify.bind(this,e,t)),!1;if(this.thingyController.setGattStatus(!1),e)try{const e=await n.startNotifications();return this.thingyController.setGattStatus(!0),this.characteristic.hasEventListener||(e.addEventListener("characteristicvaluechanged",r.bind(this)),this.characteristic.hasEventListener=!0),this.characteristic.notifying=!0,this.device.logEnabled&&console.log(`Notifications enabled for the ${this.type} feature`),!0}catch(i){return this.thingyController.setGattStatus(!0),this.thingyController.enqueue(this.type,e?"start":"stop",this._notify.bind(this,e,t)),this.characteristic.notifying=!1,this.utilities.processEvent("error",this.type,i),!1}else try{await n.stopNotifications();return this.thingyController.setGattStatus(!0),this.characteristic.notifying=!1,"microphone"===this.type&&this.audioCtx&&this.suspendAudioContext(),this.device.logEnabled&&console.log(`Notifications disabled for the ${this.type} feature`),!0}catch(i){return this.thingyController.setGattStatus(!0),this.thingyController.enqueue(this.type,e?"start":"stop",this._notify.bind(this,e,t)),this.characteristic.notifying=!0,this.utilities.processEvent("error",this.type,i),!1}}hasProperty(e){return!0===this.characteristic.characteristic.properties[e]}async start(){return await this._notify(!0)}async stop(){return await this._notify(!1)}async read(){return await this._read()}async write(e){return await this._write(e)}};var Y=class extends Q{constructor(e){super(e,"advertisingparameters"),this.service={uuid:this.device.TCS_UUID},this.characteristic={uuid:this.device.TCS_ADV_PARAMS_UUID,decoder:this.decodeAdvertisingParam.bind(this),encoder:this.encodeAdvertisingParam.bind(this)}}decodeAdvertisingParam(e){try{const t=!0;return{interval:(.625*e.getUint16(0,t)).toFixed(0),timeout:e.getUint8(2)}}catch(t){throw t}}async encodeAdvertisingParam(e){try{if("object"!==typeof e){throw new Error("The argument has to be an object.")}if(void 0===e.interval&&void 0===e.timeout){throw new RangeError("The argument has to be an object with at least one of the properties 'interval' or 'timeout': {interval: someInterval, timeout: someTimeout}")}let t=e.interval,r=e.timeout;if(void 0!==t){if(t<20||t>5e3){throw new RangeError("The advertising interval must be within the range of 20 ms to 5 000 ms")}t*=1.6}if(void 0!==r&&(r<0||r>180)){throw new RangeError("The advertising timeout must be within the range of 0 to 180 s")}const n=await this._read(!0),i=!0;t=t||n.getUint16(0,i),r=r||n.getUint8(2,i);const a=new Uint8Array(3);for(let e=0;e<a.length;e++)a[e]=n.getUint8(e);return a[0]=255&t,a[1]=t>>8&255,a[2]=r,a}catch(t){throw t}}};var J=class extends Q{constructor(e,t=[]){super(e,"microphone"),this.service={uuid:this.device.TSS_UUID},this.characteristic={uuid:this.device.TSS_MIC_UUID,decoder:this.decodeMicrophoneData.bind(this)};const r=window.AudioContext||window.webkitAudioContext;this.audioCtx=new r,this._MICROPHONE_INDEX_TABLE=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],this._MICROPHONE_STEP_SIZE_TABLE=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767],this.suspendAudioContext=this.suspendAudioContext.bind(this)}async suspendAudioContext(){await this.audioCtx.suspend()}decodeMicrophoneData(e){const t=e.buffer,r={header:new DataView(t.slice(0,3)),data:new DataView(t.slice(3))};return this._decodeAudio(r)}async verifyMicrophoneAction(){try{await this.device.mtu._write(140)}catch(e){throw e}}async verifyMicrophoneReaction(e){if(this.getGattAvailable())try{const t=e.detail.data;if(await this._notify(!1,!0),this.removeEventListener("verifyReaction",this.characteristic.verifyReaction),131!==t.byteLength){console.log(t.byteLength);const e=new Error("Your device does not currently support the use of Thingy's microphone. Check back at a later date.");throw this.notifyError(e),e}await this._notify(!0)}catch(t){throw t}}_decodeAudio(e){try{const t=e.data.byteLength,r=new ArrayBuffer(512),n=new DataView(r);let i,a,o=!1,s=0,c=0,d=0,u=e.header.getInt16(0,!1),h=e.header.getInt8(2);h<0&&(h=0),h>88&&(h=88),a=this._MICROPHONE_STEP_SIZE_TABLE[h];for(let l=0,_=0;l<t;_+=2)o?(c=15&s,l++):c=(s=e.data.getInt8(l))>>4&15,o=!o,(h+=this._MICROPHONE_INDEX_TABLE[c])<0&&(h=0),h>88&&(h=88),d=8&c,i=a>>3,(4&(c&=7))>0&&(i+=a),(2&c)>0&&(i+=a>>1),(1&c)>0&&(i+=a>>2),d>0?u-=i:u+=i,u>32767?u=32767:u<-32768&&(u=-32768),a=this._MICROPHONE_STEP_SIZE_TABLE[h],n.setInt16(_,u,!0);return n}catch(t){throw t}}play(e){void 0===this._audioStack&&(this._audioStack=[]),this._audioStack.push(e),this._audioStack.length&&this._scheduleAudioBuffers()}_scheduleAudioBuffers(){for(;this._audioStack.length>0;){const e=.01,t=this._audioStack.shift(),r=1,n=t.byteLength/2;void 0===this._audioNextTime&&(this._audioNextTime=0),"suspended"===this.audioCtx.state&&this.audioCtx.resume();const i=this.audioCtx.createBuffer(r,n,16e3),a=i.getChannelData(0);for(let s=0;s<t.byteLength/2;s++)a[s]=t.getInt16(2*s,!0)/32768;const o=this.audioCtx.createBufferSource();o.buffer=i,o.connect(this.audioCtx.destination),0===this._audioNextTime&&(this._audioNextTime=this.audioCtx.currentTime+e),o.start(this._audioNextTime),this._audioNextTime+=o.buffer.duration}}};var H=class extends Q{constructor(e){super(e,"mtu"),this.service={uuid:this.device.TCS_UUID},this.characteristic={uuid:this.device.TCS_MTU_REQUEST_UUID,decoder:this.decodeMtu.bind(this),encoder:this.encodeMtu.bind(this)}}decodeMtu(e){try{const t=!0;return e.getUint16(1,t)}catch(t){throw t}}encodeMtu(e,t=!0){try{if(e<23||e>276){throw new Error("MTU size must be in range 23 - 276 bytes")}const r=new Uint8Array(3);return r[0]=t?1:0,r[1]=255&e,r[2]=e>>8&255,r}catch(r){throw r}}};var Z=class extends Q{constructor(e){super(e,"name"),this.service={uuid:this.device.TCS_UUID},this.characteristic={uuid:this.device.TCS_NAME_UUID,decoder:this.decodeName.bind(this),encoder:this.encodeName.bind(this)}}decodeName(e){try{return{name:(new TextDecoder).decode(e)}}catch(t){throw t}}encodeName(e){try{if(e.length>10)return Promise.reject(new TypeError("The name can't be more than 10 characters long."));const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t}catch(t){throw t}}};var X=class extends Q{constructor(e){super(e,"temperature"),this.service={uuid:this.device.TES_UUID},this.characteristic={uuid:this.device.TES_TEMP_UUID,decoder:this.decodeTemperature.bind(this)}}decodeTemperature(e){try{return{value:e.getInt8(0)+e.getUint8(1)/100,unit:"Celsius"}}catch(t){throw t}}};var $=class extends Q{constructor(e){super(e,"pressure"),this.service={uuid:this.device.TES_UUID},this.characteristic={uuid:this.device.TES_PRESSURE_UUID,decoder:this.decodePressureData.bind(this)}}decodePressureData(e){try{const t=!0;return{value:e.getUint32(0,t)+e.getUint8(4)/100,unit:"hPa"}}catch(t){throw t}}};var ee=class extends Q{constructor(e){super(e,"led"),this.service={uuid:this.device.TUIS_UUID},this.characteristic={uuid:this.device.TUIS_LED_UUID,decoder:this.decodeLedData.bind(this),encoder:this.encodeLedData.bind(this)}}decodeLedData(e){try{const t=e.getUint8(0),r=!0;let n;switch(t){case 0:n={mode:t};break;case 1:n={mode:t,r:e.getUint8(1),g:e.getUint8(2),b:e.getUint8(3)};break;case 2:n={mode:t,color:e.getUint8(1),intensity:e.getUint8(2),delay:e.getUint16(3,r)};break;case 3:n={mode:t,color:e.getUint8(1),intensity:e.getUint8(2)}}return n}catch(t){throw t}}encodeLedData(e){try{let t;if(!e.mode){throw new Error("You must specify a LED mode")}switch(e.mode){case"constant":if(void 0===e.red||void 0===e.green||void 0===e.blue){throw new Error("The options object for constant mode must contain the properties 'red', 'green', and 'blue'.")}if(e.red<0||e.red>255||e.green<0||e.green>255||e.blue<0||e.blue>255){throw new Error("The color values must be in the range 0 - 255")}t=new Uint8Array([1,e.red,e.green,e.blue]);break;case"breathe":{if(void 0===e.color||void 0===e.intensity||void 0===e.delay){throw new Error("The options object for breathe mode must have the properties 'color', 'intensity' and 'delay'.")}const r=["red","green","yellow","blue","purple","cyan","white"];let n;if(r.indexOf(e.color)>-1)n=r.indexOf(e.color)+1;else{if(!("number"===typeof e.color&&e.color>0&&e.color<8)){throw new Error(`The color must either be a recognized color (${r.join(", ")}), or an integer in the interval 1 - 7`)}n=e.color}if(e.intensity<0||e.intensity>100){throw new Error("The intensity must be an integer in the interval 0 - 100")}if(e.delay<50||e.delay>1e4){throw new Error("The delay must be an integer in the interval 50 - 10 000")}t=new Uint8Array([2,n,e.intensity,255&e.delay,e.delay>>8&255]);break}case"oneshot":if(void 0===e.color||void 0===e.intensity){throw new Error("The options object for the one shot mode must have the properties 'color' and 'intensity.")}if(e.color<1||e.color>7){throw new Error("The color must either be a recognized color or an integer in the interval 1 - 7")}if(e.intensity<0||e.intensity>100){throw new Error("The intensity must be an integer in the interval 0 - 100")}t=new Uint8Array([3,e.color,e.intensity]);break;case"off":t=new Uint8Array([0]);break;default:t=new Uint8Array([2,6,20,3500])}return t}catch(t){throw t}}};var te=class extends Q{constructor(e){super(e,"tap"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_TAP_UUID,decoder:this.decodeTapData.bind(this)}}decodeTapData(e){try{return{direction:e.getUint8(0),count:e.getUint8(1)}}catch(t){throw t}}};var re=class extends Q{constructor(e){super(e,"absoluteorientation"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_ORIENTATION_UUID,decoder:this.decodeOrientationData.bind(this)}}decodeOrientationData(e){try{return{orientation:e.getUint8(0)}}catch(t){throw t}}};var ne=class extends Q{constructor(e){super(e,"quaternionorientation"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_QUATERNION_UUID,decoder:this.decodeQuaternionData.bind(this)}}decodeQuaternionData(e){try{const t=!0;let r=e.getInt32(0,t)/(1<<30),n=e.getInt32(4,t)/(1<<30),i=e.getInt32(8,t)/(1<<30),a=e.getInt32(12,t)/(1<<30);const o=Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(i,2)+Math.pow(a,2));return 0!==o&&(r/=o,n/=o,i/=o,a/=o),{w:r,x:n,y:i,z:a}}catch(t){throw t}}};var ie=class extends Q{constructor(e){super(e,"button"),this.service={uuid:this.device.TUIS_UUID},this.characteristic={uuid:this.device.TUIS_BTN_UUID,decoder:this.decodeButtonData.bind(this)}}decodeButtonData(e){try{return{value:e.getUint8(0)}}catch(t){throw t}}};var ae=class extends Q{constructor(e){super(e,"cloudtoken"),this.service={uuid:this.device.TCS_UUID},this.characteristic={uuid:this.device.TCS_CLOUD_TOKEN_UUID,decoder:this.decodeCloudToken.bind(this),encoder:this.encodeCloudToken.bind(this)}}decodeCloudToken(e){try{return{token:(new TextDecoder).decode(e)}}catch(t){throw t}}encodeCloudToken(e){try{if(e.length>250){throw new Error("The length of the cloud token can not exceed 250 characters.")}return(new TextEncoder).encode(e)}catch(t){throw t}}};var oe=class extends Q{constructor(e){super(e,"color"),this.service={uuid:this.device.TES_UUID},this.characteristic={uuid:this.device.TES_COLOR_UUID,decoder:this.decodeColorData.bind(this)}}decodeColorData(e){try{const t=!0,r=e.getUint16(0,t),n=e.getUint16(2,t),i=e.getUint16(4,t),a=e.getUint16(6,t),o=300;let s=(a-o)/(400-o);s<0&&(s=0);let c=255*(r/(r+n+i))*3*s;c>255&&(c=255);let d=255*(n/(r+n+i))*3*s;d>255&&(d=255);let u=255*(i/(r+n+i))*3*s;return u>255&&(u=255),{red:parseInt(c.toFixed(0)),green:parseInt(d.toFixed(0)),blue:parseInt(u.toFixed(0))}}catch(t){throw t}}};var se=class extends Q{constructor(e){super(e,"connectionparameters"),this.service={uuid:this.device.TCS_UUID},this.characteristic={uuid:this.device.TCS_CONN_PARAMS_UUID,decoder:this.decodeConnectionParam.bind(this),encoder:this.encodeConnectionParam.bind(this)}}decodeConnectionParam(e){try{const t=!0;return{minInterval:1.25*e.getUint16(0,t),maxInterval:1.25*e.getUint16(2,t),slaveLatency:e.getUint16(4,t),timeout:10*e.getUint16(6,t)}}catch(t){throw t}}async encodeConnectionParam(e){try{if("object"!==typeof e){throw new Error("The argument has to be an object.")}if(void 0===e.timeout&&void 0===e.slaveLatency&&void 0===e.minInterval&&void 0===e.maxInterval){throw new Error("The argument has to be an object with at least one of the properties 'timeout', 'slaveLatency', 'minInterval' or 'maxInterval'.")}let t=e.timeout,r=e.slaveLatency,n=e.minInterval,i=e.maxInterval;if(void 0!==t){if(t<100||t>32e3){throw new Error("The supervision timeout must be in the range from 100 ms to 32 000 ms.")}t=Math.round(t/10)}if(void 0!==r&&(r<0||r>499)){throw new Error("The slave latency must be in the range from 0 to 499 connection intervals.")}if(void 0!==n){if(n<7.5||n>i){throw new Error("The minimum connection interval must be greater than 7.5 ms and <= maximum interval")}n=Math.round(.8*n)}if(void 0!==i){if(i>4e3||i<n){throw new Error("The minimum connection interval must be less than 4 000 ms and >= minimum interval")}i=Math.round(.8*i)}const a=await this._read(!0),o=!0;if(n=n||a.getUint16(0,o),i=i||a.getUint16(2,o),r=r||a.getUint16(4,o),4*(t=t||a.getUint16(6,o))<(1+r)*i){throw new Error("The supervision timeout in milliseconds must be greater than (1 + slaveLatency) * maxConnInterval * 2, where maxConnInterval is also given in milliseconds.")}const s=new Uint8Array(8);for(let e=0;e<s.length;e++)s[e]=a.getUint8(e);return s[0]=255&n,s[1]=n>>8&255,s[2]=255&i,s[3]=i>>8&255,s[4]=255&r,s[5]=r>>8&255,s[6]=255&t,s[7]=t>>8&255,s}catch(t){throw t}}};var ce=class extends Q{constructor(e){super(e,"firmware"),this.service={uuid:this.device.TCS_UUID},this.characteristic={uuid:this.device.TCS_FW_VER_UUID,decoder:this.decodeFirmwareVersion.bind(this)}}decodeFirmwareVersion(e){try{return{firmware:`v${e.getUint8(0)}.${e.getUint8(1)}.${e.getUint8(2)}`}}catch(t){throw t}}};var de=class extends Q{constructor(e){super(e,"gas"),this.service={uuid:this.device.TES_UUID},this.characteristic={uuid:this.device.TES_GAS_UUID,decoder:this.decodeGasData.bind(this)}}decodeGasData(e){try{const t=!0;return{eCO2:{value:e.getUint16(0,t),unit:"ppm"},TVOC:{value:e.getUint16(2,t),unit:"ppb"}}}catch(t){throw t}}};var ue=class extends Q{constructor(e){super(e,"gravityvector"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_GRAVITY_UUID,decoder:this.decodeGravityVectorData.bind(this)}}decodeGravityVectorData(e){try{return{value:{x:e.getFloat32(0,!0),y:e.getFloat32(4,!0),z:e.getFloat32(8,!0)}}}catch(t){throw t}}};var he=class extends Q{constructor(e){super(e,"humidity"),this.service={uuid:this.device.TES_UUID},this.characteristic={uuid:this.device.TES_HUMIDITY_UUID,decoder:this.decodeHumidityData.bind(this)}}decodeHumidityData(e){try{return{value:e.getUint8(0),unit:"%"}}catch(t){throw t}}};var le=class extends Q{constructor(e){super(e,"stepcounter"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_STEP_UUID,decoder:this.decodeStepData.bind(this)}}decodeStepData(e){try{const t=!0;return{count:e.getUint32(0,t),time:{value:e.getUint32(4,t),unit:"ms"}}}catch(t){throw t}}};var _e=class extends Q{constructor(e){super(e,"rawdata"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_RAW_UUID,decoder:this.decodeRawDataData.bind(this)}}decodeRawDataData(e){try{const t=!0;return{accelerometer:{x:e.getInt16(0,t)/64,y:e.getInt16(2,t)/64,z:e.getInt16(4,t)/64,unit:"G"},gyroscope:{x:e.getInt16(6,t)/2048,y:e.getInt16(8,t)/2048,z:e.getInt16(10,t)/2048,unit:"deg/s"},compass:{x:e.getInt16(12,t)/4096,y:e.getInt16(14,t)/4096,z:e.getInt16(16,t)/4096,unit:"microTesla"}}}catch(t){throw t}}};var pe=class extends Q{constructor(e){super(e,"eulerorientation"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_EULER_UUID,decoder:this.decodeEulerData.bind(this)}}decodeEulerData(e){try{const t=!0;return{roll:e.getInt32(0,t)/65536,pitch:e.getInt32(4,t)/65536,yaw:e.getInt32(8,t)/65536}}catch(t){throw t}}};var ge=class extends Q{constructor(e){super(e,"rotationmatrixorientation"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_ROT_MATRIX_UUID,decoder:this.decodeRotationData.bind(this)}}decodeRotationData(e){try{return{row1:[e.getInt16(0,!0)/4,e.getInt16(0,!0)/4,e.getInt16(0,!0)/4],row2:[e.getInt16(0,!0)/4,e.getInt16(0,!0)/4,e.getInt16(0,!0)/4],row3:[e.getInt16(0,!0)/4,e.getInt16(0,!0)/4,e.getInt16(0,!0)/4]}}catch(t){throw t}}};var me=class extends Q{constructor(e){super(e,"heading"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_HEADING_UUID,decoder:this.decodeHeadingData.bind(this)}}decodeHeadingData(e){try{const t=!0;return{heading:e.getInt32(0,t)/65536}}catch(t){throw t}}};var fe=class extends Q{constructor(e){super(e,"eddystone"),this.service={uuid:this.device.TCS_UUID},this.characteristic={uuid:this.device.TCS_EDDYSTONE_UUID,decoder:this.decodeEddystoneData.bind(this),encoder:this.encodeEddystoneData.bind(this)}}decodeEddystoneData(e){try{const t=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"],r=["http://www.","https://www.","http://","https://"][e.getUint8(0)];let n=(new TextDecoder).decode(e);return n=r+n.slice(1),t.forEach((e,r)=>{-1!==n.indexOf(String.fromCharCode(r))&&(n=n.replace(String.fromCharCode(r),t[r]))}),new URL(n)}catch(t){throw t}}encodeEddystoneData(e){try{const t=new URL(e),r=["http://www.","https://www.","http://","https://"],n=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"];let i=null,a=null,o=t.href,s=o.length;if(r.forEach((e,r)=>{-1!==t.href.indexOf(e)&&null===i&&(i=String.fromCharCode(r),o=o.replace(e,i),s-=e.length)}),n.forEach((e,r)=>{-1!==t.href.indexOf(e)&&null===a&&(a=String.fromCharCode(r),o=o.replace(e,a),s-=e.length)}),s<1||s>14){throw new Error('The URL can\'t be longer than 14 characters, excluding URL scheme such as "https://" and ".com/".')}const c=new Uint8Array(o.length);for(let e=0;e<o.length;e++)c[e]=o.charCodeAt(e);return c}catch(t){throw t}}};var ye=class extends Q{constructor(e){super(e,"environmentconfiguration"),this.service={uuid:this.device.TES_UUID},this.characteristic={uuid:this.device.TES_CONFIG_UUID,decoder:this.decodeConfigData.bind(this),encoder:this.encodeConfigData.bind(this)}}decodeConfigData(e){try{const t=!0,r=e.getUint16(0,t),n=e.getUint16(2,t),i=e.getUint16(4,t),a=e.getUint16(6,t);let o=e.getUint8(8);const s=e.getUint8(9),c=e.getUint8(10),d=e.getUint8(11);return 1===o?o=1:2===o?o=10:3===o&&(o=60),{temperatureInterval:r,pressureInterval:n,humidityInterval:i,colorInterval:a,gasInterval:o,colorSensorCalibration:{red:s,green:c,blue:d}}}catch(t){throw t}}async encodeConfigData(e){try{if("object"!==typeof e)return Promise.reject(new TypeError("The argument has to be an object."));if(void 0===e.temperatureInterval&&void 0===e.pressureInterval&&void 0===e.humidityInterval&&void 0===e.colorInterval&&void 0===e.gasInterval&&void 0===e.colorSensorCalibration)return Promise.reject(new TypeError("The argument has to be an object with at least one of the properties 'temperatureInterval', 'pressureInterval', 'humidityInterval', 'colorInterval', 'gasInterval' or 'colorSensorCalibration'."));let t=e.temperatureInterval,r=e.pressureInterval,n=e.humidityInterval,i=e.colorInterval,a=e.gasInterval;const o=e.colorSensorCalibration;if(void 0!==t&&(t<100||t>6e4))return Promise.reject(new RangeError("The temperature sensor sampling interval must be in the range 100 ms - 60 000 ms"));if(void 0!==r&&(r<50||r>6e4))return Promise.reject(new RangeError("The pressure sensor sampling interval must be in the range 50 ms - 60 000 ms"));if(void 0!==n&&(n<100||n>6e4))return Promise.reject(new RangeError("The humidity sensor sampling interval must be in the range 100 ms - 60 000 ms"));if(void 0!==i&&(i<200||i>6e4))return Promise.reject(new RangeError("The color sensor sampling interval must be in the range 200 ms - 60 000 ms"));if(void 0!==a)if(1===a)a=1;else if(10===a)a=2;else{if(60!==a){throw new RangeError("The gas sensor sampling interval has to be 1, 10 or 60 seconds.")}a=3}let s,c,d;if(void 0!==o){if("object"!==typeof o)return Promise.reject(new TypeError("The colorSensorCalibration argument has to be an object."));if(void 0===o.red||void 0===o.green||void 0===o.blue)return Promise.reject(new TypeError("The colorSensorCalibration argument has to be an object with the properties red, green and blue."));s=o.red,c=o.green,d=o.blue}const u=await this._read(!0),h=!0;t=t||u.getUint16(0,h),r=r||u.getUint16(2,h),n=n||u.getUint16(4,h),i=i||u.getUint16(6,h),a=a||u.getUint8(8),s=s||u.getUint8(9),c=c||u.getUint8(10),d=d||u.getUint8(11);const l=new Uint8Array(12);for(let e=0;e<l.length;e++)l[e]=u.getUint8(e);return l[0]=255&t,l[1]=t>>8&255,l[2]=255&r,l[3]=r>>8&255,l[4]=255&n,l[5]=n>>8&255,l[6]=255&i,l[7]=i>>8&255,l[8]=a,l[9]=s,l[10]=c,l[11]=d,l}catch(t){throw t}}};var Ee=class extends Q{constructor(e){super(e,"motionconfiguration"),this.service={uuid:this.device.TMS_UUID},this.characteristic={uuid:this.device.TMS_CONFIG_UUID,decoder:this.decodeConfigData.bind(this),encoder:this.encodeConfigData.bind(this)}}decodeConfigData(e){try{const t=!0;return{stepCounterInterval:e.getUint16(0,t),tempCompensationInterval:e.getUint16(2,t),magnetCompInterval:e.getUint16(4,t),motionProcessFrequency:e.getUint16(6,t),wakeOnMotion:e.getUint8(8)}}catch(t){throw t}}async encodeConfigData(e){try{if("object"!==typeof e)return Promise.reject(new TypeError("The argument has to be an object."));if(void 0===e.stepCounterInterval&&void 0===e.tempCompensationInterval&&void 0===e.magnetCompInterval&&void 0===e.motionProcessFrequency&&void 0===e.wakeOnMotion)return Promise.reject(new TypeError("The argument has to be an object with at least one of the properties 'stepCounterInterval', 'tempCompensationInterval', 'magnetCompInterval', 'motionProcessFrequency' or 'wakeOnMotion'."));let t=e.stepCounterInterval,r=e.tempCompensationInterval,n=e.magnetCompInterval,i=e.motionProcessFrequency,a=e.wakeOnMotion;if(void 0!==t&&(t<100||t>5e3))return Promise.reject(new RangeError("The step counter interval must be in the range 100 ms - 5000 ms"));if(void 0!==r&&(r<100||r>5e3))return Promise.reject(new RangeError("The temperature compensation interval must be in the range 100 ms - 5000 ms"));if(void 0!==n&&(n<100||n>1e3))return Promise.reject(new RangeError("The magnetometer compensation interval must be in the range 100 ms - 1000 ms"));if(void 0!==i&&(i<5||i>200))return Promise.reject(new RangeError("The motion processing unit frequency must be in the range 5 hz - 200 hz"));if(void 0!==a){if("boolean"!==typeof a)return Promise.reject(new RangeError("The argument must be true or false."));a=a?1:0}const o=await this._read(!0),s=!0;t=t||o.getUint16(0,s),r=r||o.getUint16(2,s),n=n||o.getUint16(4,s),i=i||o.getUint16(6,s),void 0===a&&(a=o.getUint8(8));const c=new Uint8Array(9);for(let e=0;e<c.length;e++)c[e]=o.getUint8(e);return c[0]=255&t,c[1]=t>>8&255,c[2]=255&r,c[3]=r>>8&255,c[4]=255&n,c[5]=n>>8&255,c[6]=255&i,c[7]=i>>8&255,c[8]=a,c}catch(t){throw t}}};var be=class extends Q{constructor(e){super(e,"soundconfiguration"),this.service={uuid:this.device.TSS_UUID},this.characteristic={uuid:this.device.TSS_CONFIG_UUID,decoder:this.decodeSoundConfigurationData.bind(this),encoder:this.encodeSoundConfigurationData.bind(this)}}decodeSoundConfigurationData(e){try{return{speakerMode:e.getUint8(0),microphoneMode:e.getUint8(1)}}catch(t){throw t}}async encodeSoundConfigurationData(e){try{if("object"!==typeof e)return Promise.reject(new TypeError("The argument has to be an object."));if(void 0===e.speakerMode&&void 0===e.microphoneMode)return Promise.reject(new TypeError("The argument has to be an object with at least one of the properties speakerMode and microphoneMode."));let t=e.speakerMode,r=e.microphoneMode;if(void 0!==t&&1!==t&&2!==t&&3!==t)return Promise.reject(new RangeError("The speaker mode must be one of the integers 1, 2 or 3."));if(void 0!==r&&1!==r&&2!==r)return Promise.reject(new RangeError("The microphone mode must be one of the integers 1 or 2."));const n=await this._read(!0);t=t||n.getUint8(0),r=r||n.getUint8(1);const i=new Uint8Array(2);for(let e=0;e<i.length;e++)i[e]=n.getUint8(e);return i[0]=255&t,i[1]=255&r,i}catch(t){throw t}}};var we=class extends Q{constructor(e){super(e,"speakerdata"),this.service={uuid:this.device.TSS_UUID},this.characteristic={uuid:this.device.TSS_SPEAKER_DATA_UUID,encoder:this.encodeSpeakerData.bind(this)},this.soundconfigurationservice=new be(this)}async encodeSpeakerData(e){try{if(1===e.mode){const t=new Uint8Array(5),r=e.frequency,n=e.duration,i=e.volume;return t[0]=255&r,t[1]=r>>8&255,t[2]=255&n,t[3]=n>>8&255,t[4]=255&i,t}if(2===e.mode)return e.data;if(3===e.mode){const t=new Uint8Array(1),r=e.sample;return t[0]=255&r,t}}catch(t){throw t}}};var ve=class extends Q{constructor(e){super(e,"speakerstatus"),this.service={uuid:this.device.TSS_UUID},this.characteristic={uuid:this.device.TSS_SPEAKER_STAT_UUID,decoder:this.decodeSpeakerStatus.bind(this)}}decodeSpeakerStatus(e){try{return{status:e.getInt8(0)}}catch(t){throw t}}};var Oe=class extends Q{constructor(e){super(e,"battery"),this.service={uuid:"battery_service"},this.characteristic={uuid:"battery_level",decoder:this.decodeBatteryStatus.bind(this)}}decodeBatteryStatus(e){try{return{status:e.getInt8(0)}}catch(t){throw t}}};var Ue=class extends Q{constructor(e){super(e,"dfucontrolpoint_v1"),this.service={uuid:this.device.DFU_UUID},this.characteristic={uuid:this.device.DFU_CTRL_POINT_UUID_VERSION_1,decoder:this.decodeDfuData.bind(this),encoder:this.encodeDfuData.bind(this)}}decodeDfuData(e){try{return{value:e.getUint8(0)}}catch(t){throw t}}encodeDfuData(e){try{const t=new Uint8Array(1);return t[0]=255&e,t}catch(t){throw t}}};var De=class extends Q{constructor(e){super(e,"dfucontrolpoint_v2"),this.service={uuid:this.device.DFU_UUID},this.characteristic={uuid:this.device.DFU_CTRL_POINT_UUID_VERSION_2,decoder:this.decodeDfuData.bind(this),encoder:this.encodeDfuData.bind(this)}}decodeDfuData(e){try{return{value:e.getUint8(0)}}catch(t){throw t}}encodeDfuData(e){try{const t=new Uint8Array(1);return t[0]=255&e,t}catch(t){throw t}}};var Ie=class extends z{constructor(e={logEnabled:!0}){super(),this.logEnabled=e.logEnabled,this.connected=!1,this.logEnabled&&console.log("I am alive!"),this.TCS_UUID="ef680100-9b35-4933-9b10-52ffa9740042",this.TCS_NAME_UUID="ef680101-9b35-4933-9b10-52ffa9740042",this.TCS_ADV_PARAMS_UUID="ef680102-9b35-4933-9b10-52ffa9740042",this.TCS_CONN_PARAMS_UUID="ef680104-9b35-4933-9b10-52ffa9740042",this.TCS_EDDYSTONE_UUID="ef680105-9b35-4933-9b10-52ffa9740042",this.TCS_CLOUD_TOKEN_UUID="ef680106-9b35-4933-9b10-52ffa9740042",this.TCS_FW_VER_UUID="ef680107-9b35-4933-9b10-52ffa9740042",this.TCS_MTU_REQUEST_UUID="ef680108-9b35-4933-9b10-52ffa9740042",this.TES_UUID="ef680200-9b35-4933-9b10-52ffa9740042",this.TES_TEMP_UUID="ef680201-9b35-4933-9b10-52ffa9740042",this.TES_PRESSURE_UUID="ef680202-9b35-4933-9b10-52ffa9740042",this.TES_HUMIDITY_UUID="ef680203-9b35-4933-9b10-52ffa9740042",this.TES_GAS_UUID="ef680204-9b35-4933-9b10-52ffa9740042",this.TES_COLOR_UUID="ef680205-9b35-4933-9b10-52ffa9740042",this.TES_CONFIG_UUID="ef680206-9b35-4933-9b10-52ffa9740042",this.TUIS_UUID="ef680300-9b35-4933-9b10-52ffa9740042",this.TUIS_LED_UUID="ef680301-9b35-4933-9b10-52ffa9740042",this.TUIS_BTN_UUID="ef680302-9b35-4933-9b10-52ffa9740042",this.TUIS_PIN_UUID="ef680303-9b35-4933-9b10-52ffa9740042",this.TMS_UUID="ef680400-9b35-4933-9b10-52ffa9740042",this.TMS_CONFIG_UUID="ef680401-9b35-4933-9b10-52ffa9740042",this.TMS_TAP_UUID="ef680402-9b35-4933-9b10-52ffa9740042",this.TMS_ORIENTATION_UUID="ef680403-9b35-4933-9b10-52ffa9740042",this.TMS_QUATERNION_UUID="ef680404-9b35-4933-9b10-52ffa9740042",this.TMS_STEP_UUID="ef680405-9b35-4933-9b10-52ffa9740042",this.TMS_RAW_UUID="ef680406-9b35-4933-9b10-52ffa9740042",this.TMS_EULER_UUID="ef680407-9b35-4933-9b10-52ffa9740042",this.TMS_ROT_MATRIX_UUID="ef680408-9b35-4933-9b10-52ffa9740042",this.TMS_HEADING_UUID="ef680409-9b35-4933-9b10-52ffa9740042",this.TMS_GRAVITY_UUID="ef68040a-9b35-4933-9b10-52ffa9740042",this.TSS_UUID="ef680500-9b35-4933-9b10-52ffa9740042",this.TSS_CONFIG_UUID="ef680501-9b35-4933-9b10-52ffa9740042",this.TSS_SPEAKER_DATA_UUID="ef680502-9b35-4933-9b10-52ffa9740042",this.TSS_SPEAKER_STAT_UUID="ef680503-9b35-4933-9b10-52ffa9740042",this.TSS_MIC_UUID="ef680504-9b35-4933-9b10-52ffa9740042",this.DFU_UUID="0000fe59-0000-1000-8000-00805f9b34fb",this.DFU_CTRL_POINT_UUID_VERSION_1="8ec90001-f315-4f60-9fb8-838830daea50",this.DFU_CTRL_POINT_UUID_VERSION_2="8ec90003-f315-4f60-9fb8-838830daea50",this.serviceUUIDs=["battery_service",this.TCS_UUID,this.TES_UUID,this.TUIS_UUID,this.TMS_UUID,this.TSS_UUID,this.DFU_UUID],this.addEventListener("gattavailable",this.executeQueuedOperations.bind(this)),this.addEventListener("operationqueued",this.executeQueuedOperations.bind(this)),this.advertisingparameters=new Y(this),this.microphone=new J(this),this.mtu=new H(this),this.name=new Z(this),this.temperature=new X(this),this.pressure=new $(this),this.led=new ee(this),this.tap=new te(this),this.absoluteorientation=new re(this),this.quaternionorientation=new ne(this),this.button=new ie(this),this.cloudtoken=new ae(this),this.color=new oe(this),this.connectionparameters=new se(this),this.eddystone=new fe(this),this.firmware=new ce(this),this.gas=new de(this),this.gravityvector=new ue(this),this.humidity=new he(this),this.stepcounter=new le(this),this.rawdata=new _e(this),this.eulerorientation=new pe(this),this.rotationmatrixorientation=new ge(this),this.heading=new me(this),this.environmentconfiguration=new ye(this),this.motionconfiguration=new Ee(this),this.soundconfiguration=new be(this),this.speakerdata=new we(this),this.speakerstatus=new ve(this),this.battery=new Oe(this),this.dfucontrolpoint_v1=new Ue(this),this.dfucontrolpoint_v2=new De(this)}getStoredThingyName(){try{return localStorage.getItem("thingyName")}catch(e){return}}async connect(){try{const e=this.getStoredThingyName(),t=[];return e?(t.push({name:e}),this.logEnabled&&console.log(`Scanning for devices with name equal to ${e}`)):(t.push({services:[this.TCS_UUID]}),this.logEnabled&&console.log(`Scanning for devices with service UUID equal to ${this.TCS_UUID}`)),this.device=await navigator.bluetooth.requestDevice({filters:t,optionalServices:this.serviceUUIDs}),this.device.addEventListener("gattserverdisconnected",this.onDisconnected.bind(this)),this.setConnected(!0),this.logEnabled&&console.log(`Found Thingy named "${this.device.name}", trying to connect`),this.server=await this.device.gatt.connect(),this.thingyController=new V(this),this.utilities=new F(this),this.logEnabled&&console.log(`Connected to "${this.device.name}"`),!0}catch(e){return this.setConnected(!1),"utilities"in this&&this.utilities.processEvent("error","thingy",e),!1}}async executeQueuedOperations(){try{if(!this.thingyController.getExecutingQueuedOperations()&&0!==this.thingyController.getNumQueuedOperations()&&this.thingyController.getGattStatus()){this.thingyController.setExecutingQueuedOperations(!0);const e={};let t,r=0,n=0;for(;0!==this.thingyController.getNumQueuedOperations()&&this.getConnected();){n=this.thingyController.getNumExecutedOperations()-r,r=this.thingyController.getNumExecutedOperations(),(t=this.thingyController.dequeue()).feature in e||(e[t.feature]={}),t.method in e[t.feature]||(e[t.feature][t.method]=0),e[t.feature][t.method]++;const i=await t.f();if(10===e[t.feature][t.method]&&!0!==i&&(this.thingyController.removeQueuedOperation(t),this.utilities.processEvent("operationdiscarded","thingy",t)),e[t.feature][t.method]>=3&&!0!==i&&n<2){if(1===n){const e=this.thingyController.getExecutedOperation(this.thingyController.getNumExecutedOperations()-1);if(e.feature!==t.feature||e.method!==t.method)continue}this.thingyController.removeQueuedOperation(t),this.utilities.processEvent("operationdiscarded","thingy",t)}}this.thingyController.setExecutingQueuedOperations(!1)}}catch(e){this.thingyController.setExecutingQueuedOperations(!1),this.utilities.processEvent("error","thingy",e)}}getConnected(){return this.connected}setConnected(e){this.connected=e}resetDeviceProperties(){this.setConnected(!1),this.thingyController.terminate()}onDisconnected({target:e}){this.getConnected()?(this.resetDeviceProperties(),this.utilities.processEvent("disconnected","thingy")):this.logEnabled&&console.log(`Disconnected from device named ${e.name}`)}async disconnect(){try{return this.resetDeviceProperties(),await this.device.gatt.disconnect(),!0}catch(e){return this.utilities.processEvent("error","thingy",e),!1}}},Ce=r(87),Te=r(155),Pe=r.n(Te),Se=r(154),Me=r.n(Se);const ke=Object(u.a)({btIconConnect:{color:"#1976d2"},btIconDisconnect:{color:"#f00"}});function Ae(e){const t=ke();const r=e.connected?"Roz\u0142\u0105cz urz\u0105dzenie":"Po\u0142\u0105cz z urz\u0105dzeniem",n=e.connected?i.a.createElement(Me.a,{className:t.btIconDisconnect}):i.a.createElement(Pe.a,{className:t.btIconConnect});return i.a.createElement("div",null,i.a.createElement(Ce.a,{fullWidth:!0,onClick:async function(){if(e.connected)e.onConnectionEvent(!1),e.disconnect();else try{const t=new Ie({logEnabled:!1});window.thingy=t,await window.thingy.connect()&&e.onConnectionEvent(!0)}catch(t){e.notifyError(t)}},startIcon:n},r))}var xe=r(162),je=r.n(xe),Re=r(156),Le=r.n(Re),Ne=r(157),Be=r.n(Ne),We=r(158),qe=r.n(We),Ke=r(159),Ge=r.n(Ke),ze=r(160),Fe=r.n(ze),Ve=r(161),Qe=r.n(Ve);function Ye(e){return Je(e.batteryLevel)}const Je=e=>e<=20?i.a.createElement(Le.a,null):e<=30?i.a.createElement(Be.a,null):e<=50?i.a.createElement(qe.a,null):e<=60?i.a.createElement(Ge.a,null):e<=80?i.a.createElement(Fe.a,null):e<=90?i.a.createElement(Qe.a,null):i.a.createElement(je.a,null);var He=r(35),Ze=r(559),Xe=r(560),$e=r(60),et=(r(214),r(163));function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const rt=localStorage.getItem("thingyFirebaseKey");rt&&$e.initializeApp({apiKey:rt,authDomain:"thingy-workshop.firebaseapp.com",databaseURL:"https://thingy-workshop.firebaseio.com",projectId:"thingy-workshop",storageBucket:"thingy-workshop.appspot.com",messagingSenderId:"137166886055",appId:"1:137166886055:web:224969bcdca7d8d947f782"});function nt(e,t){try{$e.firestore().doc("/deviceStatus/"+e).set(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(r,!0).forEach((function(t){Object(h.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{lastContact:$e.firestore.FieldValue.serverTimestamp()}))}catch(r){}}const it=i.a.forwardRef((e,t)=>i.a.createElement(f.b,Object.assign({innerRef:t,to:"/status"},e))),at=Object(u.a)(e=>({root:{display:"flex",flexDirection:"column",flexGrow:"1"},statusBtn:{alignSelf:"flex-end",color:"#ccc"},spacer:{flexGrow:1}}));var ot=Object(d.b)(({thingy:e})=>({connected:e.connected.reading,name:e.name.reading.name,firmware:e.firmware.reading.firmware,notification:e.notification,batteryLevel:e.battery.reading.status}),e=>({onConnectionEvent:t=>{e(q(t))},readName:()=>{e(B("name"))},readFirmware:()=>{e(B("firmware"))},disconnect:()=>{e(async e=>{await window.thingy.disconnect(),e({type:"CLEAN_THE_STATE"})})},startDisconnectNotification:()=>{e(async e=>{window.thingy.addEventListener("disconnected",async t=>{await window.thingy.disconnect(),e({type:"CLEAN_THE_STATE"}),e(q(!1)),e(j({message:"Lost connection to your device. Please try to reconnect",category:"error"}))})})},startErrorNotification:()=>{e(async(e,t)=>{window.thingy.addEventListener("error",r=>{void 0!==r.detail?t().thingy.connected.reading&&e(j({message:r.detail.body.message,category:"error"})):e(j({message:String(r),category:"error"}))})})},startWriteNotification:()=>{e(async e=>{window.thingy.addEventListener("write",t=>{const r=["name","advertisingparameters","connectionparameters","eddystone","cloudtoken","environmentconfiguration","motionconfiguration"];t.detail&&r.includes(t.detail.feature)&&e(j({message:"Success",category:"success"}))})})},startBatteryNotification:()=>{e(async e=>{window.thingy.addEventListener("battery",t=>{e(A("battery",t))});const t=await window.thingy.battery.read();e(k("battery",t)),await window.thingy.battery.start()})},notifyError:t=>{e((e=>t=>{t(j({message:String(e),category:"error"}))})(t))}}))((function(e){const t=Object(He.useSnackbar)().enqueueSnackbar,r=at();Object(n.useEffect)(()=>{e.connected&&e.name&&nt(e.name,{battery:e.batteryLevel,firmware:e.firmware})},[e.connected,e.name,e.firmware,e.batteryLevel]);const a=i.a.createElement(Ae,{onConnectionEvent:function(r){e.onConnectionEvent(r),r?(e.readName(),e.readFirmware(),t("Thingy po\u0142\u0105czone!",{variant:"success"}),e.startErrorNotification(),e.startDisconnectNotification(),e.startWriteNotification(),e.startBatteryNotification()):t("Thingy roz\u0142\u0105czone!")},disconnect:e.disconnect,notifyError:e.notifyError,connected:e.connected}),o=i.a.createElement(Ce.a,{fullWidth:!0,className:r.statusBtn,component:it},"status"),s=e.connected&&e.name&&e.firmware&&e.batteryLevel?i.a.createElement(p.a,null,i.a.createElement(Ze.a,null,i.a.createElement(Xe.a,null,i.a.createElement(Ye,{className:"battery",batteryLevel:e.batteryLevel}))),i.a.createElement(m.a,{primary:e.name,secondary:`${e.firmware} / bateria: ${e.batteryLevel}%`})):null;return i.a.createElement("div",{className:r.root},s,a,i.a.createElement("div",{className:r.spacer}),o)})),st=r(55),ct=r(561),dt=r(565),ut=r(564),ht=r(562),lt=r(563),_t=r(104);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const gt=Object(u.a)(e=>({root:{display:"flex",margin:e.spacing(3)},table:{minWidth:650},thingyImage:{marginTop:e.spacing(4)}}));function mt(){const e=gt(),t=function(e){try{return Object(et.a)($e.firestore().collection(e))}catch(t){return[null,!1,new Error("firebase error")]}}("deviceStatus"),r=Object(st.a)(t,3),n=r[0],a=r[1],o=r[2];return i.a.createElement(_t.a,{className:e.root},i.a.createElement("img",{src:P.a,className:e.thingyImage,alt:""}),o&&i.a.createElement("strong",null,"Error: ",JSON.stringify(o)),a&&i.a.createElement("span",null,"Collection: Loading..."),n&&i.a.createElement(ct.a,{className:e.table,"aria-label":"simple table"},i.a.createElement(ht.a,null,i.a.createElement(lt.a,null,i.a.createElement(ut.a,null,"Nazwa"),i.a.createElement(ut.a,{align:"right"},"Poziom baterii"),i.a.createElement(ut.a,{align:"right"},"Wersja"),i.a.createElement(ut.a,{align:"right"},"Ostatnio oktywny"))),i.a.createElement(dt.a,null,n.docs.map(e=>(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(r,!0).forEach((function(t){Object(h.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e})({id:e.id},e.data())).sort((e,t)=>e.id.localeCompare(t.id)).map(e=>{const t=e.lastContact?new Date(1e3*Number(e.lastContact.seconds)):null;return i.a.createElement(lt.a,{key:e.id},i.a.createElement(ut.a,{component:"th",scope:"row"},e.id),i.a.createElement(ut.a,{align:"right"},e.battery,"%"),i.a.createElement(ut.a,{align:"right"},e.firmware?e.firmware:"-"),i.a.createElement(ut.a,{align:"right"},t?t.toLocaleString("pl"):null))}))))}const ft=Object(u.a)(e=>({root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,backgroundColor:e.palette.background.darker},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default}}));var yt=Object(d.b)(({thingy:e})=>({isConnected:e.connected.reading}))((function(e){const t=ft();let r=e.isConnected,n=e.challenges;const a=i.a.createElement(I.c,null,i.a.createElement(I.a,{exact:!0,path:"/status",component:mt}),r?n.map(e=>i.a.createElement(I.a,{exact:!0,key:e.path,path:e.path,component:e.component})):i.a.createElement(I.a,{path:"*",component:M}));return i.a.createElement("div",{className:t.root},i.a.createElement(D.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper}},i.a.createElement(U,{items:n}),i.a.createElement(ot,null)),i.a.createElement("main",{className:t.content},a))})),Et=r(84),bt=r(75);var wt=Object(bt.a)({palette:{primary:{main:"#3f51b5"},secondary:{main:"#ffff02"},error:{main:Et.a.A400},background:{darker:"#f2f2f2"}}}),vt=r(49),Ot=r(166);function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(r,!0).forEach((function(t){Object(h.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const It={connected:{reading:!1},temperature:{status:!1,reading:void 0},pressure:{status:!1,reading:void 0},co2:{status:!1,reading:void 0},tvoc:{status:!1,reading:void 0},humidity:{status:!1,reading:void 0},color:{status:!1,reading:void 0},stepcounter:{status:!1,reading:{count:0,time:{unit:"ms",value:0}}},tap:{status:!1,reading:{direction:0,count:0}},gravityvector:{status:!1,reading:{value:{x:0,y:0,z:0}}},heading:{status:!1,reading:{heading:0}},quaternionorientation:{status:!1,reading:{x:0,y:0,z:0,w:0}},led:{reading:{mode:-1}},button:{status:!1,reading:{value:0}},firmware:{reading:{firmware:""}},name:{reading:{name:""}},advertisingparameters:{reading:{interval:0,timeout:0}},connectionparameters:{reading:{minInterval:8,maxInterval:4e3,slaveLatency:0,timeout:100}},eddystone:{reading:{href:""}},cloudtoken:{reading:{token:""}},environmentconfiguration:{reading:{temperatureInterval:0,pressureInterval:0,humidityInterval:0,colorInterval:0,gasInterval:1,colorSensorCalibration:{blue:0,green:0,red:0}}},motionconfiguration:{reading:{stepCounterInterval:0,tempCompensationInterval:0,magnetCompInterval:0,motionProcessFrequency:0,wakeOnMotion:0}},samples:{reading:void 0},tones:{reading:void 0},pcm:{reading:{playStatus:0}},microphone:{reading:void 0,status:!1},battery:{reading:{status:100}}};var Ct=Object(vt.c)({thingy:(e=It,t)=>{switch(t.type){case"RECEIVE_NEW_READING":return Dt({},e,{[t.reading.feature]:Dt({},e[t.reading.feature],{reading:t.reading.reading})});case"RECEIVE_NEW_NOTIFY_READING":return"gas"===t.reading.feature?Dt({},e,{co2:Dt({},e.co2,{reading:e.co2.status?t.reading.reading.detail.eCO2:e.co2.reading}),tvoc:Dt({},e.tvoc,{reading:e.tvoc.status?t.reading.reading.detail.TVOC:e.tvoc.reading})}):Dt({},e,{[t.reading.feature]:Dt({},e[t.reading.feature],{reading:t.reading.reading.detail})});case"NOTIFY_FEATURE_STATUS":return Dt({},e,{[t.status.feature]:Dt({},e[t.status.feature],{status:t.status.status})});case"CLEAN_THE_STATE":return It;case"NOTIFY_USER":return Dt({},e,{notification:t.message});case"SET_FEATURE_HAS_EVENT_LISTENER":return Dt({},e,{[t.feature]:Dt({},e[t.feature],{hasEventListener:!0})});default:return e}}}),Tt=r(16),Pt=r(167);function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(r,!0).forEach((function(t){Object(h.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const kt=e=>["off","constant","breathe","oneshot"][e]||"breathe";var At=Object(d.b)(({thingy:e})=>({connected:e.connected.reading,buttonPressed:e.button.reading.value,led:e.led}),e=>({onStart:()=>{e(B("led")),e(R("button","on"))},writeLedColor:(t,r)=>{const n=kt(r.mode),i=Object(Tt.a)(t),a=r.delay||3500,o=Mt({mode:n,color:t,intensity:r.intensity,delay:a},i);e(W("led",o))},writeBrightness:(t=20,r)=>{let n;const i=Mt({mode:kt(r.mode),color:n=1===r.mode?Object(Tt.b)({red:r.r,green:r.g,blue:r.b}):r.color||6,intensity:t,delay:r.delay||1e3},Object(Tt.a)(n));e(W("led",i))},writeLedMode:(t,r)=>{let n;console.log("writeLedMode",t,r),n=1===r.mode?Object(Tt.b)({red:r.r,green:r.g,blue:r.b}):r.color||6;const i=r.delay||1e3,a=Mt({mode:t,color:n,intensity:r.intensity||20,delay:i},Object(Tt.a)(n));e(W("led",a))},writeCustom:({red:t,green:r,blue:n},i)=>{const a=Object(Tt.b)({red:t,green:r,blue:n}),o=i.delay||1e3,s=i.intensity||20;e(W("led",{mode:"constant",color:a,intensity:s,delay:o,red:t,green:r,blue:n}))},playAudio:t=>{e(N(t))}}))(Pt.a),xt=r(176);var jt=Object(d.b)(({thingy:e})=>({connected:e.connected.reading,buttonPressed:e.button.reading.value,tap:e.tap.reading}),e=>({onStart:()=>{e(R("button","on")),e(R("tap","on"))},onEnd:()=>{},playAudio:t=>{e(N(t))}}))(xt.a),Rt=r(178);function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(r,!0).forEach((function(t){Object(h.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Bt=e=>["off","constant","breathe","oneshot"][e]||"breathe";var Wt=Object(d.b)(({thingy:e})=>({connected:e.connected.reading,buttonPressed:e.button.reading.value,gravity:e.gravityvector.reading.value,led:e.led}),e=>({onStart:()=>{e(B("led")),e(R("button","on")),e(R("gravityvector","on"))},onEnd:()=>{e(R("gravityvector","off"))},writeLedColor:(t,r)=>{const n=Bt(r.mode),i=Object(Tt.a)(t),a=r.delay||3500,o=Nt({mode:n,color:t,intensity:r.intensity,delay:a},i);e(W("led",o))},writeBrightness:(t=20,r)=>{let n;const i=Nt({mode:Bt(r.mode),color:n=1===r.mode?Object(Tt.b)({red:r.r,green:r.g,blue:r.b}):r.color||6,intensity:t,delay:r.delay||1e3},Object(Tt.a)(n));e(W("led",i))},writeLedMode:(t,r)=>{let n;console.log("writeLedMode",t,r),n=1===r.mode?Object(Tt.b)({red:r.r,green:r.g,blue:r.b}):r.color||6;const i=r.delay||1e3,a=Nt({mode:t,color:n,intensity:r.intensity||20,delay:i},Object(Tt.a)(n));e(W("led",a))},writeCustom:({red:t,green:r,blue:n},i)=>{const a=Object(Tt.b)({red:t,green:r,blue:n}),o=i.delay||1e3,s=i.intensity||20;e(W("led",{mode:"constant",color:a,intensity:s,delay:o,red:t,green:r,blue:n}))},playAudio:t=>{e(N(t))}}))(Rt.a),qt=r(41),Kt=r(180),Gt=r.n(Kt),zt=r(42),Ft=r(181),Vt=r.n(Ft);function Qt(e){const t=Object(n.useState)([]),r=Object(st.a)(t,2),a=r[0],o=r[1];Object(n.useEffect)(()=>{if(e.data){const t=a.slice(-10);t.push({x:Date.now(),y:e.data.value}),o(t)}},[e.data]);const s=[{data:a.slice()}];return i.a.createElement(Vt.a,{options:{chart:{id:"realtime",animations:{enabled:!1},toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},crosshairs:{show:!1},tooltip:{enabled:!1},xaxis:{type:"datetime",labels:{show:!0}},yaxis:{},legend:{show:!0},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,100]}}},series:s,type:"line",height:"250"})}var Yt=r(567);const Jt=Object(u.a)(e=>({root:{padding:e.spacing(3)},paper:{padding:e.spacing(2)}}));var Ht=[{path:"/sensors",component:Object(d.b)(({thingy:e})=>({connected:e.connected.reading,temperature:e.temperature.reading,humidity:e.humidity.reading,pressure:e.pressure.reading,co2:e.co2.reading}),e=>({onStart:()=>{e(R("temperature","on")),e(R("humidity","on")),e(R("pressure","on")),e(R("co2","on"))}}))((function(e){const t=Object(qt.a)(Gt.a),r=Jt();Object(n.useEffect)(()=>{e.onStart()},[e.connected]);const a=i.a.createElement(_t.a,{className:r.root},i.a.createElement(Yt.a,{container:!0,spacing:3},i.a.createElement(Yt.a,{item:!0,xs:6},i.a.createElement(_t.a,{className:r.paper},"Temperatura: ",e.temperature?e.temperature.value:null,i.a.createElement(Qt,{data:e.temperature}))),i.a.createElement(Yt.a,{item:!0,xs:6},i.a.createElement(_t.a,{className:r.paper},"Wilgotno\u015b\u0107 ",e.humidity?e.humidity.value:null,i.a.createElement(Qt,{data:e.humidity}))),i.a.createElement(Yt.a,{item:!0,xs:6},i.a.createElement(_t.a,{className:r.paper},"Ci\u015bnienie ",e.pressure?e.pressure.value:null,i.a.createElement(Qt,{data:e.pressure}))),i.a.createElement(Yt.a,{item:!0,xs:6},i.a.createElement(_t.a,{className:r.paper},"Dwutlenek w\u0119gla ",e.co2?e.co2.value:null,i.a.createElement(Qt,{data:e.co2})))));return i.a.createElement(zt.a,{headerText:"Sensory",markdownText:t,showcasePanel:a})})),primary:"Zadanie #1",secondary:"Czujniki"},{path:"/lights",component:At,primary:"Zadanie #2",secondary:"\u015awiat\u0142o i d\u017awi\u0119k"},{path:"/dino",component:jt,primary:"Zadanie #3",secondary:"Gra: Skacz\u0105cy Dinozaur"},{path:"/ball",component:Wt,primary:"Zadanie #4",secondary:"Gra: Kulka"}],Zt=r(82);const Xt=Object(vt.d)(Ct,Object(vt.a)(Ot.a));o.a.render(i.a.createElement(c.a,{theme:wt},i.a.createElement(s.a,null),i.a.createElement(d.a,{store:Xt},i.a.createElement(He.SnackbarProvider,{maxSnack:3},i.a.createElement(f.a,{basename:Zt.a},i.a.createElement(yt,{challenges:Ht}))))),document.querySelector("#root"))},56:function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(87),o=r(173),s=r.n(o),c=r(65),d=r(172),u=r.n(d);r(509),r(510);function h(e){return i.a.createElement(u.a,Object.assign({placeholder:"Tu wprowad\u017a czarodziejski kod...",mode:"javascript",theme:"github",name:"blah2",width:"100%",height:"calc(100% - 2em)",fontSize:20,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{showLineNumbers:!0,tabSize:2,useWorker:!1}},e))}r.d(t,"a",(function(){return _}));const l=Object(c.a)(e=>({root:{height:"100%"},button:{borderRadius:0}}));function _(e){const t=e.name,r=e.initial,n=e.onRun,o=l(),c=localStorage.getItem(t)||r||"";return i.a.createElement("div",{className:o.root},i.a.createElement(h,{onChange:e=>localStorage.setItem(t,e),value:c}),i.a.createElement(a.a,{onClick:()=>n(localStorage.getItem(t)),className:o.button,fullWidth:!0,size:"large",variant:"contained",color:"primary",startIcon:i.a.createElement(s.a,null)},"Wykonaj"))}},59:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return h}));var n=r(6),i=r(0),a=r.n(i),o=r(82),s=r(65);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const d=Object(s.a)(e=>({iframeNode:{display:"block"}}));function u(e,t,r={}){document.getElementById(e).contentWindow.postMessage(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cmd:t},r))}function h(e){const t=e.id,r=e.publicPath,n=("localhost"!==window.location.hostname?o.a:"")+r,i=d();return a.a.createElement("iframe",{src:n,id:t,width:"100%",height:320,frameBorder:0,className:i.iframeNode})}},79:function(e,t,r){e.exports=r.p+"static/media/thingy-product.3a8d5863.png"},82:function(e){e.exports=JSON.parse('{"a":"/thingy-czarodzieje-kodu"}')}},[[189,1,2]]]);
//# sourceMappingURL=main.f0807ac1.chunk.js.map